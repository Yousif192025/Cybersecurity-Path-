<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-text="student-dashboard-title">لوحة تحكم الطالب</title>
    <link rel="stylesheet" href="../assets/css/main.css" />
    <link rel="stylesheet" href="../assets/css/responsive.css" />
</head>
<body>

    <header>
        <div class="logo" data-text="platform-name">منصة الأمن السيبراني</div>
        <nav>
            <a href="/Cybersecurity-Path-/index.html" data-text="home-nav">الرئيسية</a>
            <a href="/Cybersecurity-Path-/academy/student-dashboard.html" class="active" data-text="student-dashboard-nav">لوحة الطالب</a>
            <a href="/Cybersecurity-Path-/academy/calendar.html" data-text="calendar-nav">التقويم</a>
            <a href="/Cybersecurity-Path-/academy/enrollment.html" data-text="enrollment-nav">التسجيل</a>
        </nav>
    </header>

    <main class="dashboard-container">

        <div class="welcome">
            <h2 data-text="welcome-heading">مرحبًا، <span id="studentName">محمد</span>!</h2>
            <p data-text="welcome-message">هذه هي لوحة التحكم الخاصة بك. يمكنك متابعة تقدمك والوصول إلى الدورات والشهادات هنا.</p>
        </div>

        <div class="stats">
            <div class="stat-box">
                <h3 id="coursesRegistered">4</h3>
                <p data-text="courses-registered">دورات مسجلة</p>
            </div>
            <div class="stat-box">
                <h3 id="certificatesCompleted">2</h3>
                <p data-text="certificates-completed">شهادات مكتملة</p>
            </div>
            <div class="stat-box">
                <h3 id="completionRate">88%</h3>
                <p data-text="completion-rate">نسبة الإنجاز</p>
            </div>
        </div>

        <h2 data-text="my-courses-heading">دوراتي</h2>
        <div class="courses-grid" id="coursesGrid">
            <div class="course-card">
                <h4 data-text="course-info-sec-fundamentals">أساسيات أمن المعلومات</h4>
                <p><span data-text="progress-label">نسبة التقدم</span>: <span class="progress-value">80%</span></p>
                <a href="/Cybersecurity-Path-/courses/info-sec-fundamentals.html" data-text="continue-course">متابعة الدورة</a>
            </div>
            <div class="course-card">
                <h4 data-text="course-network-security">أمن الشبكات</h4>
                <p><span data-text="progress-label">نسبة التقدم</span>: <span class="progress-value">50%</span></p>
                <a href="/Cybersecurity-Path-/courses/network-security.html" data-text="continue-course">متابعة الدورة</a>
            </div>
            <div class="course-card">
                <h4 data-text="course-pentesting-beginner">اختبار اختراق للمبتدئين</h4>
                <p><span data-text="progress-label">نسبة التقدم</span>: <span class="progress-value">100%</span></p>
                <a href="/Cybersecurity-Path-/courses/pentesting-beginner.html" data-text="view-certificate">عرض الشهادة</a>
            </div>
        </div>

    </main>

    <footer style="text-align:center;padding:1rem;background-color:#101820;color:white">
        <span data-text="footer-text">جميع الحقوق محفوظة © منصة الأمن السيبراني</span>
    </footer>

    <script src="../assets/js/main.js"></script>
    <script>
        // هنا يمكنك إضافة السكربت الخاص بهذه الصفحة
        // سيتم تنفيذه بعد تحميل main.js
        document.addEventListener('DOMContentLoaded', () => {
            // تأكد أن دالة applyTranslations والترجمات معرفة في main.js
            const savedLang = localStorage.getItem('lang') || 'ar';
            if (typeof applyTranslations === 'function') {
                applyTranslations(savedLang);
            }

            // بيانات افتراضية للطالب (ستأتي من API في تطبيق حقيقي)
            const studentData = {
                name: 'محمد',
                stats: {
                    registeredCourses: 4,
                    completedCertificates: 2,
                    completionRate: '88%'
                },
                enrolledCourses: [
                    { id: 1, titleKey: 'course-info-sec-fundamentals', progress: 80, link: '/Cybersecurity-Path-/courses/info-sec-fundamentals.html' },
                    { id: 2, titleKey: 'course-network-security', progress: 50, link: '/Cybersecurity-Path-/courses/network-security.html' },
                    { id: 3, titleKey: 'course-pentesting-beginner', progress: 100, link: '/Cybersecurity-Path-/courses/pentesting-beginner.html', certificate: true }
                ]
            };

            // تحديث اسم الطالب
            document.getElementById('studentName').textContent = studentData.name;

            // تحديث الإحصائيات
            document.getElementById('coursesRegistered').textContent = studentData.stats.registeredCourses;
            document.getElementById('certificatesCompleted').textContent = studentData.stats.completedCertificates;
            document.getElementById('completionRate').textContent = studentData.stats.completionRate + '%';

            // ملء بطاقات الدورات ديناميكياً (اختياري، إذا كنت تريد استبدال البطاقات الثابتة)
            const coursesGrid = document.getElementById('coursesGrid');
            // coursesGrid.innerHTML = ''; // قم بإزالة هذا السطر إذا كنت تفضل الاحتفاظ بالبطاقات الثابتة كـ fallback

            // إذا أردت ملء البطاقات ديناميكياً بدلاً من الثابتة، قم بإزالة التعليق عن الكود التالي:
            /*
            const currentTranslations = typeof translations !== 'undefined' ? translations[savedLang] : {};
            studentData.enrolledCourses.forEach(course => {
                const courseCard = document.createElement('div');
                courseCard.className = 'course-card';

                const courseTitle = currentTranslations[course.titleKey] || course.titleKey;
                const buttonTextKey = course.certificate ? 'view-certificate' : 'continue-course';
                const buttonText = currentTranslations[buttonTextKey] || buttonTextKey;
                const progressLabel = currentTranslations['progress-label'] || 'Progress';

                courseCard.innerHTML = `
                    <h4>${courseTitle}</h4>
                    <p>${progressLabel}: <span class="progress-value">${course.progress}%</span></p>
                    <a href="${course.link}">${buttonText}</a>
                `;
                coursesGrid.appendChild(courseCard);
            });
            // بعد إضافة المحتوى الديناميكي، أعد تطبيق الترجمات
            if (typeof applyTranslations === 'function') {
                applyTranslations(savedLang);
            }
            */
        });
    </script>
</body>
</html>
