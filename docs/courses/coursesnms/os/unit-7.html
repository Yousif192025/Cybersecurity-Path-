<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الوحدة 7: إدارة الذاكرة | أنظمة التشغيل</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #2c3e50; /* Dark Blue/Grey */
            --secondary-color: #3498db; /* Bright Blue */
            --accent-color: #e74c3c; /* Red */
            --light-bg: #f8f9fa; /* Light Grey */
            --dark-text: #2c3e50; /* Dark Blue/Grey */
            --light-text: #7f8c8d; /* Medium Grey */
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--light-bg);
            color: var(--dark-text);
            line-height: 1.8;
        }

        .navbar {
            background-color: var(--primary-color);
        }

        .sidebar {
            background-color: #fff;
            padding: 15px;
            border-radius: 0.75rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .content-section {
            background-color: #fff;
            padding: 30px;
            border-radius: 0.75rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .course-title {
            color: var(--primary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .list-group-item.active {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
        }

        .list-group-item.active .module-link, .list-group-item.active .module-link .badge {
            color: white;
        }

        .module-link {
            text-decoration: none;
            color: var(--dark-text);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .accordion-button:not(.collapsed) {
            color: #fff;
            background-color: var(--secondary-color);
            box-shadow: none;
        }

        .accordion-button:not(.collapsed)::after {
            filter: brightness(0) invert(1);
        }

        .unit-icon {
            color: var(--secondary-color);
            margin-left: 10px;
        }

        .unit-icon-header {
            color: var(--primary-color);
            margin-left: 10px;
        }

        .quiz-section, .enhancement-section, .summary-section {
            padding: 20px;
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .quiz-section {
            background-color: #e9ecef;
            border-left: 5px solid var(--secondary-color);
        }

        .enhancement-section {
            background-color: #e9f5ff;
            border-left: 5px solid #28a745;
        }

        .summary-section {
            background-color: #f1f1f1;
            border-left: 5px solid var(--primary-color);
        }

        .footer {
            background-color: var(--primary-color);
            color: white;
        }

        .progress-container {
            height: 25px;
        }

        .progress-bar {
            background-color: var(--secondary-color);
        }

        .btn-check:checked + .btn-outline-primary, .btn-outline-primary:hover {
            color: white;
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
        }

        @media (max-width: 991px) {
            .sidebar {
                margin-top: 1rem;
            }
        }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-desktop me-2"></i>
                أنظمة التشغيل
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="../../../pathways/tvtc-cs-security.html">
                            <i class="fas fa-arrow-right me-1"></i>
                            العودة إلى المقررات
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-4">
        <div class="row">
            <!-- Sidebar for Units -->
            <div class="col-lg-3">
                <div class="sidebar p-4">
                    <h4 class="mb-3">
                        <i class="fas fa-stream me-2"></i>
                        وحدات المقرر
                    </h4>
                    <div class="progress progress-container mb-4">
                        <div class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
                    </div>
                    <div class="accordion" id="unitsAccordion">
                        <!-- Unit 1 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-desktop"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 1: نظرة عامة على النظام الحاسوبي</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الأولى...</p>
                                <a href="unit-1.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 2 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-cogs"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 2: لمحة عن أنظمة التشغيل</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الثانية...</p>
                                <a href="unit-2.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 3 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-tasks"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 3: وصف وإدارة العملية</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الثالثة...</p>
                                <a href="unit-3.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 4 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFour">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-code-branch"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 4: الخيوط (Threads)</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الرابعة...</p>
                                <a href="unit-4.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 5 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFive">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-sync-alt"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 5: التزامن والحصر المتبادل</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الخامسة...</p>
                                <a href="unit-5.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 6 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingSix">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-hand-paper"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 6: الجمود (Deadlock) والمجاعة (Starvation)</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة السادسة...</p>
                                <a href="unit-6.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 7 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingSeven">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSeven" aria-expanded="true" aria-controls="collapseSeven">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-memory"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 7: إدارة الذاكرة</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseSeven" class="accordion-collapse collapse show" aria-labelledby="headingSeven" data-bs-parent="#unitsAccordion">
                                <div class="accordion-body">
                                    <ul class="list-unstyled">
                                        <li><a href="unit-7.html#section1" class="text-decoration-none">متطلبات إدارة الذاكرة</a></li>
                                        <li><a href="unit-7.html#section2" class="text-decoration-none">تقسيم الذاكرة (Partitioning)</a></li>
                                        <li><a href="unit-7.html#section3" class="text-decoration-none">الترحيل عبر الصفحات (Paging)</a></li>
                                        <li><a href="unit-7.html#section4" class="text-decoration-none">التقسيم المنطقي (Segmentation)</a></li>
                                        <li><a href="unit-7.html#section5" class="text-decoration-none">مفاهيم إضافية</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- Unit 8 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingEight">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEight" aria-expanded="false" aria-controls="collapseEight">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-hdd"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 8: الذاكرة الافتراضية</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseEight" class="accordion-collapse collapse" aria-labelledby="headingEight" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الثامنة...</p>
                                <a href="unit-8.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 9 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingNine">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseNine" aria-expanded="false" aria-controls="collapseNine">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-calendar-alt"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 9: جدولة أحادية المعالج</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseNine" class="accordion-collapse collapse" aria-labelledby="headingNine" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة التاسعة...</p>
                                <a href="unit-9.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 10 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTen">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTen" aria-expanded="false" aria-controls="collapseTen">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-microchip"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 10: جدولة متعددة المعالجات والمعالجة الزمنية الحقيقية</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseTen" class="accordion-collapse collapse" aria-labelledby="headingTen" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة العاشرة...</p>
                                <a href="unit-10.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 11 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingEleven">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEleven" aria-expanded="false" aria-controls="collapseEleven">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-exchange-alt"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 11: إدارة I/O وجدولة الأقراص</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseEleven" class="accordion-collapse collapse" aria-labelledby="headingEleven" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الحادية عشرة...</p>
                                <a href="unit-11.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 12 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwelve">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwelve" aria-expanded="false" aria-controls="collapseTwelve">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-folder-open"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 12: إدارة الملفات</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseTwelve" class="accordion-collapse collapse" aria-labelledby="headingTwelve" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الثانية عشرة...</p>
                                <a href="unit-12.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 13 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingThirteen">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThirteen" aria-expanded="false" aria-controls="collapseThirteen">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-microchip"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 13: أنظمة تشغيل مدمجة</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseThirteen" class="accordion-collapse collapse" aria-labelledby="headingThirteen" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الثالثة عشرة...</p>
                                <a href="unit-13.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 14 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFourteen">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFourteen" aria-expanded="false" aria-controls="collapseFourteen">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-server"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 14: الآلات الافتراضية</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseFourteen" class="accordion-collapse collapse" aria-labelledby="headingFourteen" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الرابعة عشرة...</p>
                                <a href="unit-14.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 15 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFifteen">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFifteen" aria-expanded="false" aria-controls="collapseFifteen">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-lock"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 15: أمن أنظمة التشغيل</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseFifteen" class="accordion-collapse collapse" aria-labelledby="headingFifteen" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الخامسة عشرة...</p>
                                <a href="unit-15.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 16 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingSixteen">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSixteen" aria-expanded="false" aria-controls="collapseSixteen">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-cloud"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 16: أنظمة تشغيل السحابة وإنترنت الأشياء</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseSixteen" class="accordion-collapse collapse" aria-labelledby="headingSixteen" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة السادسة عشرة...</p>
                                <a href="unit-16.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                                </div>
                            </div>
                        <!-- Unit Summary -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingSummary">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSummary" aria-expanded="false" aria-controls="collapseSummary">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-graduation-cap"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة الختامية: ملخص المقرر</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseSummary" class="accordion-collapse collapse" aria-labelledby="headingSummary" data-bs-parent="#unitsAccordion">
                                <p>ملخص شامل للمقرر وتوجيه مهني.</p>
                                <a href="unit-summary.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-lg-9">
                <div class="content-section mb-4 p-5">
                    <h1 class="course-title">
                        <i class="fas fa-memory unit-icon-header"></i>
                        الوحدة 7: إدارة الذاكرة
                    </h1>
                    <span class="badge bg-secondary mb-4">Memory Management</span>
                    <p class="text-muted">
                        📚 استنادًا إلى الفصل السابع من كتاب: Operating Systems: Internals and Design Principles – William Stallings – الإصدار التاسع
                    </p>

                    <div class="mb-4">
                        <h4><i class="fas fa-bullseye me-2"></i>أهداف الوحدة</h4>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check-circle text-success me-2"></i> فهم متطلبات إدارة الذاكرة الرئيسية.</li>
                            <li><i class="fas fa-check-circle text-success me-2"></i> استيعاب تقنيات تقسيم الذاكرة (Fixed and Dynamic Partitioning).</li>
                            <li><i class="fas fa-check-circle text-success me-2"></i> التعرف على مفهوم الترحيل عبر الصفحات (Paging) ومكوناته.</li>
                            <li><i class="fas fa-check-circle text-success me-2"></i> فهم التقسيم المنطقي (Segmentation) ومقارنته بـ Paging.</li>
                            <li><i class="fas fa-check-circle text-success me-2"></i> التعرف على مشكلات التهام الذاكرة (Fragmentation) والمبادلة (Swapping).</li>
                        </ul>
                    </div>

                    <hr>

                    <section id="section1" class="mb-5">
                        <h2 class="course-title">1️⃣ متطلبات إدارة الذاكرة</h2>
                        <p>
                            تُعد إدارة الذاكرة (Memory Management) إحدى أهم وظائف نظام التشغيل، حيث تتولى مسؤولية تخصيص واستخدام موارد الذاكرة الرئيسية (RAM) بكفاءة بين العمليات المختلفة. الهدف الأساسي هو ضمان عمل البرامج بسلاسة وأمان، مع تحقيق أقصى استفادة من الذاكرة المتاحة.
                        </p>
                        <h4>✅ أهداف رئيسية لإدارة الذاكرة:</h4>
                        <ul>
                            <li><strong>تخصيص الذاكرة بكفاءة:</strong> يجب على نظام التشغيل تلبية طلبات العمليات للذاكرة بشكل فعال، وتوفير المساحة اللازمة لكل برنامج وخيط دون هدر غير ضروري.</li>
                            <li><strong>حماية الذاكرة (Memory Protection):</strong> منع العمليات من التداخل في ذاكرة بعضها البعض. هذا يعني أن عملية معينة لا يمكنها قراءة أو كتابة بيانات في مساحة ذاكرة مخصصة لعملية أخرى، مما يضمن استقرار النظام وأمان البيانات.</li>
                            <li><strong>الاستفادة القصوى من الذاكرة المتاحة:</strong> استخدام تقنيات تمنع أو تقلل من مشكلة "التهام الذاكرة" (Fragmentation)، وهي المساحات الصغيرة غير المستغلة التي تتكون بين الكتل المخصصة.</li>
                            <li><strong>دعم التعددية (Multiprogramming):</strong> تمكين تشغيل عدة برامج في نفس الوقت على نظام واحد، مما يزيد من إنتاجية الحاسوب.</li>
                            <li><strong>إعادة التموقع (Relocation):</strong> القدرة على تحميل البرنامج في أي مكان متاح في الذاكرة الرئيسية، أو حتى نقله من مكان إلى آخر أثناء التنفيذ. هذا يسمح لنظام التشغيل بتحسين استخدام الذاكرة وتجنب الجمود.</li>
                            <li><strong>المشاركة (Sharing):</strong> إتاحة إمكانية مشاركة مناطق معينة من الذاكرة بين أكثر من عملية عند الحاجة، مثل مشاركة مكتبات الأكواد المشتركة (Shared Libraries) أو البيانات المشتركة بين العمليات المتعاونة، مما يوفر الذاكرة ويقلل من الحمل.</li>
                        </ul>
                        <blockquote class="blockquote bg-light p-3 border-start border-primary border-5 rounded-3">
                            <p class="mb-0 fst-italic">
                                <strong>🧩 مفهوم العزل (Isolation):</strong> هو جانب أساسي من حماية الذاكرة، حيث يضمن أن كل عملية تعمل في مساحة ذاكرة معزولة خاصة بها، مما يمنعها من التأثير سلبًا على العمليات الأخرى أو على نظام التشغيل نفسه.
                            </p>
                        </blockquote>
                        <div class="alert alert-info mt-3">
                            <p class="mb-0">
                                <strong>📚 مرجع:</strong>
                                <a href="https://www.cs.princeton.edu/courses/archive/fall09/cos318/lectures/06-memory.pdf" target="_blank" class="alert-link">Operating System Concepts – Silberschatz (PDF)</a>
                            </p>
                        </div>
                    </section>

                    <hr>

                    <section id="section2" class="mb-5">
                        <h2 class="course-title">2️⃣ تقسيم الذاكرة (Memory Partitioning)</h2>
                        <p>
                            تُعد تقنيات تقسيم الذاكرة من الأساليب المبكرة لإدارة الذاكرة، حيث يتم تقسيم الذاكرة الرئيسية إلى أجزاء (Partitions) وتخصيصها للعمليات.
                        </p>
                        <h4>📌 أنواع التقسيم:</h4>
                        <ul>
                            <li>
                                <strong>التقسيم الثابت (Fixed Partitioning):</strong>
                                <ul>
                                    <li><strong>الوصف:</strong> يتم تقسيم الذاكرة الرئيسية مسبقًا (عند بدء تشغيل النظام) إلى كتل ذات حجم ثابت وغير قابل للتغيير. كل كتلة يمكنها استيعاب عملية واحدة.</li>
                                    <li><strong>المزايا:</strong> بسيط وسهل التنفيذ.</li>
                                    <li><strong>العيوب:</strong>
                                        <ul>
                                            <li><strong>التهام الداخلي (Internal Fragmentation):</strong> إذا كانت العملية أصغر من حجم الكتلة المخصصة لها، فإن المساحة المتبقية داخل تلك الكتلة تُهدر ولا يمكن استخدامها بواسطة أي عملية أخرى. على سبيل المثال، إذا كانت الكتلة 10 ميجابايت وعملية تحتاج 7 ميجابايت، فإن 3 ميجابايت تُهدر.</li>
                                            <li>عدد العمليات التي يمكن تشغيلها محدود بعدد الكتل الثابتة.</li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <strong>التقسيم المتغير (Dynamic Partitioning):</strong>
                                <ul>
                                    <li><strong>الوصف:</strong> يتم تخصيص مساحة للبرنامج في الذاكرة بناءً على حاجته الفعلية (الحجم المطلوب). عندما تنتهي العملية، يتم تحرير المساحة.</li>
                                    <li><strong>المزايا:</strong> لا يوجد تهام داخلي (أو يكون ضئيلًا جدًا)، ويتم استخدام الذاكرة بكفاءة أكبر.</li>
                                    <li><strong>العيوب:</strong>
                                        <ul>
                                            <li><strong>التهام الخارجي (External Fragmentation):</strong> مع مرور الوقت، تتكون فراغات صغيرة وغير متجاورة من الذاكرة الحرة بين الكتل المخصصة. هذه الفراغات قد تكون كافية لاستيعاب عملية جديدة إذا تم دمجها، ولكنها غير مجدية بشكل منفصل.</li>
                                            <li>أكثر تعقيدًا في الإدارة من التقسيم الثابت.</li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                        <h4>🧠 حلول للهدر الخارجي (External Fragmentation):</h4>
                        <ul>
                            <li><strong>دمج الفجوات (Compaction):</strong> هي عملية نقل العمليات المخصصة في الذاكرة لدمج جميع الفراغات الحرة المتفرقة في كتلة واحدة كبيرة ومتجاورة. هذه العملية مكلفة من حيث وقت المعالج.</li>
                            <li><strong>تقنيات التخصيص (Placement Algorithms):</strong>
                                <ul>
                                    <li><strong>First-Fit (الملاءمة الأولى):</strong> يخصص أول فراغ حر كبير بما يكفي لاستيعاب العملية. سريع ولكنه قد يترك فراغات صغيرة في البداية.</li>
                                    <li><strong>Best-Fit (الملاءمة الأفضل):</strong> يخصص أصغر فراغ حر كبير بما يكفي لاستيعاب العملية. يميل إلى ترك فراغات صغيرة جدًا، مما يزيد من التهام الخارجي على المدى الطويل.</li>
                                    <li><strong>Worst-Fit (الملاءمة الأسوأ):</strong> يخصص أكبر فراغ حر متاح. يهدف إلى ترك فراغ كبير متبقي يمكن استخدامه لاحقًا، لكنه غالبًا ما يؤدي إلى تشتت الفراغات.</li>
                                </ul>
                            </li>
                        </ul>
                        <div class="alert alert-info mt-3">
                            <p class="mb-0">
                                <strong>📘 شرح مصور بالفيديو:</strong>
                                <a href="https://www.youtube.com/watch?v=Kz4M67bQ8-0" target="_blank" class="alert-link">Memory Management – Partitioning (YouTube)</a>
                            </p>
                        </div>
                    </section>

                    <hr>

                    <section id="section3" class="mb-5">
                        <h2 class="course-title">3️⃣ الترحيل عبر الصفحات (Paging)</h2>
                        <h4>ما هو الترحيل (Paging)؟</h4>
                        <p>
                            الترحيل عبر الصفحات هو تقنية متقدمة لإدارة الذاكرة تُستخدم على نطاق واسع في أنظمة التشغيل الحديثة. تهدف هذه التقنية إلى حل مشكلة التهام الخارجي بشكل كامل، وتوفير مرونة عالية في تخصيص الذاكرة.
                        </p>
                        <p>
                            يعمل Paging عن طريق تقسيم الذاكرة المنطقية للبرنامج (العنوان الذي يراه البرنامج) إلى وحدات ذات حجم ثابت تُسمى **صفحات (Pages)**. في المقابل، يتم تقسيم الذاكرة الفيزيائية (RAM) إلى وحدات ذات نفس الحجم تُسمى **أُطر (Frames)**. يقوم نظام التشغيل بعد ذلك بتعيين الصفحات إلى الأُطر في الذاكرة الفيزيائية دون الحاجة إلى أن تكون الأُطر متتالية.
                        </p>
                        <h4>الفوائد الرئيسية للترحيل (Paging):</h4>
                        <ul>
                            <li><strong>يلغي التهام الخارجي (Eliminates External Fragmentation):</strong> بما أن الصفحات يمكن أن تُخزن في أي إطار متاح في الذاكرة، فإنه لا توجد مشكلة في وجود فراغات صغيرة متفرقة لا يمكن استخدامها.</li>
                            <li><strong>يسهل إدارة الذاكرة ويزيد الكفاءة:</strong> يمكن لنظام التشغيل تخصيص الذاكرة بسهولة أكبر، حيث يبحث فقط عن أي إطار حر بدلاً من البحث عن كتلة متجاورة بحجم معين.</li>
                            <li><strong>يدعم الذاكرة الافتراضية (Virtual Memory):</strong> وهو ما سنتناوله في الوحدة التالية، حيث يسمح للبرامج باستخدام مساحة ذاكرة أكبر من الذاكرة الفعلية.</li>
                        </ul>
                        <h4>مكونات أساسية في نظام Paging:</h4>
                        <ul>
                            <li><strong>جدول الصفحات (Page Table):</strong> هو بنية بيانات رئيسية يحتفظ بها نظام التشغيل لكل عملية. يحتوي جدول الصفحات على خريطة تربط كل صفحة منطقية (من مساحة عنوان العملية) بإطار فيزيائي معين في الذاكرة الرئيسية.</li>
                            <li><strong>وحدة إدارة الذاكرة (Memory Management Unit - MMU):</strong> هي مكون عتادي يقوم بتحويل العناوين المنطقية (التي يولدها المعالج) إلى عناوين فيزيائية (التي تستخدمها الذاكرة الفعلية) باستخدام جدول الصفحات.</li>
                            <li><strong>ذاكرة التخزين المؤقت للترجمة (Translation Lookaside Buffer – TLB):</strong> هي ذاكرة مخبأة (Cache) صغيرة وسريعة جدًا، تُستخدم لتسريع عملية تحويل العناوين. تخزن TLB أحدث الإدخالات المستخدمة من جدول الصفحات، مما يقلل الحاجة للوصول إلى الذاكرة الرئيسية في كل مرة يتم فيها تحويل عنوان.</li>
                        </ul>
                        <blockquote class="blockquote bg-light p-3 border-start border-primary border-5 rounded-3">
                            <p class="mb-0 fst-italic">
                                <strong>📌 مثال:</strong> تخيل برنامجًا بحجم 8 صفحات (كل صفحة 4 كيلوبايت). يمكن تحميل هذه الصفحات في أطر متفرقة في الذاكرة الفعلية (RAM) دون أي مشكلة. الصفحة 0 قد تكون في الإطار 5، والصفحة 1 في الإطار 12، وهكذا. جدول الصفحات هو الذي يحتفظ بهذه العلاقة، ووحدة MMU هي التي تقوم بالتحويل الفعلي للعناوين.
                            </p>
                        </blockquote>
                        <div class="alert alert-info mt-3">
                            <p class="mb-0">
                                <strong>📚 مورد مساعد:</strong>
                                <a href="https://www.geeksforgeeks.org/paging-in-operating-system/" target="_blank" class="alert-link">Paging in Operating Systems – GeeksforGeeks</a>
                            </p>
                        </div>
                    </section>

                    <hr>

                    <section id="section4" class="mb-5">
                        <h2 class="course-title">4️⃣ التقسيم المنطقي (Segmentation)</h2>
                        <p>
                            <strong>التقسيم المنطقي (Segmentation)</strong> هو أسلوب آخر لإدارة الذاكرة، يختلف عن Paging في نهجه. بدلاً من تقسيم الذاكرة إلى كتل ذات حجم ثابت (صفحات)، يقوم Segmentation بتقسيم الذاكرة المنطقية للبرنامج إلى أقسام (Segments) ذات معنى برمجي.
                        </p>
                        <p>
                            كل قسم يمثل وحدة منطقية من البرنامج، مثل:
                        </p>
                        <ul>
                            <li><strong>قسم الكود (Code Segment):</strong> يحتوي على تعليمات البرنامج.</li>
                            <li><strong>قسم البيانات (Data Segment):</strong> يحتوي على المتغيرات العامة والثوابت.</li>
                            <li><strong>قسم المكدس (Stack Segment):</strong> يستخدم لتخزين المتغيرات المحلية واستدعاءات الدوال.</li>
                            <li>أو أقسام أخرى مثل مكتبات برمجية (Libraries) أو وحدات فرعية (Subroutines).</li>
                        </ul>
                        <h4>الفرق الرئيسي بين Paging وSegmentation:</h4>
                        <div class="table-responsive">
                            <table class="table table-bordered table-hover">
                                <thead class="table-primary">
                                    <tr>
                                        <th scope="col">الخاصية</th>
                                        <th scope="col">Paging (الترحيل عبر الصفحات)</th>
                                        <th scope="col">Segmentation (التقسيم المنطقي)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>نوع التقسيم</strong></td>
                                        <td>تقسيم فيزيائي (ثابت الحجم)</td>
                                        <td>تقسيم منطقي (متغير الحجم)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>وحدة التقسيم</strong></td>
                                        <td>صفحات (Pages)</td>
                                        <td>مقاطع (Segments)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>الهدف الأساسي</strong></td>
                                        <td>إدارة الذاكرة الفيزيائية بكفاءة وحل مشكلة التهام الخارجي.</td>
                                        <td>تنظيم البرمجة المنطقية للبرنامج وتسهيل حمايته ومشاركته.</td>
                                    </tr>
                                    <tr>
                                        <td><strong>مشكلة الهدر</strong></td>
                                        <td>لا يوجد تهام خارجي (يوجد تهام داخلي ضئيل).</td>
                                        <td>يوجد تهام خارجي (مثل التقسيم الديناميكي).</td>
                                    </tr>
                                    <tr>
                                        <td><strong>جدول التعيين</strong></td>
                                        <td>جدول الصفحات (Page Table)</td>
                                        <td>جدول القطاعات (Segment Table)</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <h4>الفوائد الرئيسية للتقسيم المنطقي (Segmentation):</h4>
                        <ul>
                            <li><strong>يعكس بنية البرنامج:</strong> يسمح للمبرمجين بالتعامل مع الذاكرة بطريقة أقرب إلى الهيكل المنطقي لبرامجهم.</li>
                            <li><strong>تسهيل المشاركة والأمان:</strong> يمكن تطبيق سياسات أمان مختلفة على كل قسم. على سبيل المثال، يمكن جعل قسم الكود للقراءة فقط ومشاركته بين عدة عمليات، بينما قسم البيانات يكون للقراءة والكتابة.</li>
                        </ul>
                        <h4>المشكلات في التقسيم المنطقي:</h4>
                        <ul>
                            <li><strong>يسبب تهام خارجي:</strong> بما أن الأقسام ذات أحجام متغيرة، فإن تحرير الأقسام يؤدي إلى تكون فراغات متفرقة في الذاكرة، مما يعيد مشكلة التهام الخارجي التي رأيناها في التقسيم الديناميكي.</li>
                            <li><strong>يحتاج إلى جدول القطاعات (Segment Table):</strong> كل عملية تحتاج إلى جدول قطاعات خاص بها لتخزين معلومات كل قسم (مثل عنوان البداية في الذاكرة الفيزيائية وحجم القسم).</li>
                        </ul>
                        <div class="alert alert-info mt-3">
                            <p class="mb-0">
                                <strong>📚 توسيع الفهم:</strong>
                                <a href="https://www.tutorialspoint.com/operating_system/os_segmentation.htm" target="_blank" class="alert-link">Segmentation in OS – TutorialsPoint</a>
                            </p>
                        </div>
                    </section>

                    <hr>

                    <section id="section5" class="mb-5">
                        <h2 class="course-title">5️⃣ مفاهيم إضافية في إدارة الذاكرة</h2>
                        <h4>Fragmentation (التهام الذاكرة):</h4>
                        <p>
                            التهام الذاكرة هو مشكلة شائعة في إدارة الذاكرة حيث تتكون مساحات صغيرة غير مستغلة من الذاكرة الحرة، مما يقلل من كفاءة استخدام الذاكرة الكلية.
                        </p>
                        <ul>
                            <li><strong>التهام داخلي (Internal Fragmentation):</strong> يحدث عندما يتم تخصيص كتلة ذاكرة أكبر من المساحة المطلوبة فعليًا للعملية، وتُهدر المساحة الزائدة داخل الكتلة المخصصة. هذا شائع في التقسيم الثابت ونظام Paging (حيث قد لا تملأ الصفحة الأخيرة بالكامل).</li>
                            <li><strong>التهام خارجي (External Fragmentation):</strong> يحدث عندما تتكون مساحات حرة صغيرة ومتفرقة في الذاكرة، والتي تكون مجتمعة كافية لاستيعاب عملية جديدة، ولكنها غير متجاورة (ليست كتلة واحدة كبيرة) وبالتالي لا يمكن تخصيصها لعملية تحتاج كتلة متجاورة. هذا شائع في التقسيم المتغير ونظام Segmentation.</li>
                        </ul>
                        <h4>Swapping (المبادلة):</h4>
                        <p>
                            المبادلة هي تقنية لإدارة الذاكرة تُستخدم عندما لا تكون هناك ذاكرة رئيسية كافية لاستيعاب جميع العمليات النشطة. يقوم نظام التشغيل بنقل عملية كاملة (أو جزء منها) من الذاكرة الرئيسية إلى مساحة تخزين مؤقتة على القرص الصلب (تُسمى "مساحة المبادلة" أو "Swap Space"). عندما يحتاج المعالج إلى هذه العملية مرة أخرى، يتم إعادتها إلى الذاكرة الرئيسية.
                        </p>
                        <ul>
                            <li><strong>الهدف:</strong> زيادة درجة تعدد المهام (Multiprogramming Degree) عن طريق السماح بتشغيل برامج أكبر أو عدد أكبر من البرامج مما تسمح به الذاكرة الفعلية.</li>
                            <li><strong>العيوب:</strong> عملية بطيئة جدًا مقارنة بالوصول إلى الذاكرة الرئيسية، حيث تتضمن الوصول إلى القرص الصلب، مما يؤثر سلبًا على الأداء.</li>
                        </ul>
                        <h4>Memory Compaction (دمج الذاكرة):</h4>
                        <p>
                            هي عملية تُستخدم لمكافحة التهام الخارجي. تتضمن نقل جميع الكتل المخصصة للعمليات في الذاكرة بحيث تصبح متجاورة، مما يؤدي إلى دمج جميع الفراغات الحرة المتفرقة في كتلة واحدة كبيرة ومتجاورة في نهاية الذاكرة.
                        </p>
                        <ul>
                            <li><strong>الهدف:</strong> استعادة المساحات الحرة المتفرقة وجعلها قابلة للاستخدام لعمليات أكبر.</li>
                            <li><strong>العيوب:</strong> عملية مكلفة جدًا من حيث وقت المعالج، حيث تتطلب إيقاف العمليات ونقل كميات كبيرة من البيانات في الذاكرة، مما يؤدي إلى "تجميد" النظام مؤقتًا.</li>
                        </ul>
                        <blockquote class="blockquote bg-light p-3 border-start border-primary border-5 rounded-3">
                            <h4>💡 نشاط تطبيقي:</h4>
                            <p>
                                لتثبيت فهمك لهذه المفاهيم، حاول أن تمثل 3 عمليات بأحجام مختلفة (مثلاً: 5MB, 10MB, 7MB) وتوزيعها على ذاكرة رئيسية بحجم معين (مثلاً: 30MB) باستخدام:
                            </p>
                            <ol>
                                <li><strong>Fixed Partitioning:</strong> (مع كتل ثابتة مثلاً 8MB لكل كتلة).</li>
                                <li><strong>Paging:</strong> (مع حجم صفحة ثابت مثلاً 4KB).</li>
                                <li><strong>Segmentation:</strong> (مع تقسيم منطقي للأقسام).</li>
                            </ol>
                            <p>
                                قارن بين الفعالية، ومقدار التهام الداخلي والخارجي، ومدى تعقيد الإدارة في كل أسلوب.
                            </p>
                        </blockquote>
                    </section>

                    <hr>

                    <section class="summary-section mb-5">
                        <h2 class="course-title text-secondary"><i class="fas fa-info-circle me-2"></i>ملخص الوحدة</h2>
                        <p>
                            إدارة الذاكرة في أنظمة التشغيل تُعد حجر الأساس في تحقيق التوازن بين الأداء والكفاءة، وتوفير بيئة آمنة ومستقرة لتشغيل البرامج. في هذه الوحدة، استكشفنا **متطلبات إدارة الذاكرة** الأساسية من تخصيص وحماية وعزل ومشاركة. ثم تعمقنا في **تقنيات تقسيم الذاكرة** المختلفة، بدءًا من التقسيم الثابت والمتغير، مرورًا بتقنية **الترحيل عبر الصفحات (Paging)** التي حلت مشكلة التهام الخارجي، وصولاً إلى **التقسيم المنطقي (Segmentation)** الذي يعكس البنية المنطقية للبرامج. كما ناقشنا مفاهيم هامة مثل **التهام الذاكرة (Fragmentation)** بأنواعه، و**المبادلة (Swapping)**، و**دمج الذاكرة (Memory Compaction)**. فهم هذه الاستراتيجيات ضروري لكل من يعمل في مجال أنظمة التشغيل أو تطوير البرمجيات، حيث تؤثر هذه المفاهيم بشكل مباشر على أداء التطبيقات واستقرار النظام.
                        </p>
                    </section>

                    <div class="d-flex justify-content-between">
                        <a href="unit-6.html" class="btn btn-outline-primary">
                            <i class="fas fa-arrow-right me-1"></i>
                            الوحدة السابقة: الجمود (Deadlock) والمجاعة (Starvation)
                        </a>
                        <a href="unit-8.html" class="btn btn-primary">
                            الوحدة التالية: الذاكرة الافتراضية
                            <i class="fas fa-arrow-left ms-1"></i>
                        </a>
                    </div>

                    <div class="alert alert-info mt-3">
                        <h5 class="mb-2"><i class="fas fa-book-open me-2"></i>روابط إثرائية وموارد إضافية:</h5>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-link me-2"></i> <a href="http://pages.cs.wisc.edu/~remzi/OSTEP/" target="_blank" class="alert-link">Operating Systems: Three Easy Pieces – Memory</a></li>
                            <li><i class="fas fa-link me-2"></i> <a href="https://www.geeksforgeeks.org/operating-system-memory-management-mcqs/" target="_blank" class="alert-link">Memory Management MCQs – GeeksforGeeks</a></li>
                            <li><i class="fas fa-link me-2"></i> <a href="https://www.youtube.com/watch?v=2K2u2g1yU7w" target="_blank" class="alert-link">Understanding Memory Allocation – YouTube</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>مسار الأمن السيبراني</h5>
                    <p>منصة تعليمية متخصصة في تقديم محتوى أكاديمي وعملي في مجال الأمن السيبراني.</p>
                </div>
                <div class="col-md-3">
                    <h5>روابط سريعة</h5>
                    <ul class="list-unstyled">
                        <li><a href="../index.html" class="text-white text-decoration-none">الرئيسية</a></li>
                        <li><a href="#" class="text-white text-decoration-none">جميع المقررات</a></li>
                        <li><a href="#" class="text-white text-decoration-none">الدعم الفني</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>تواصل معنا</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-envelope me-2"></i> info@cyberpath.com</li>
                        <li><i class="fas fa-phone me-2"></i> 0502161465</li>
                    </ul>
                </div>
            </div>
            <hr class="my-4 bg-light">
            <div class="row">
                <div class="col-md-6">
                    <p class="mb-0">&copy; 2025 مسار الأمن السيبراني. جميع الحقوق محفوظة.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="#" class="text-white me-3"><i class="fab fa-twitter fa-lg"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-linkedin fa-lg"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-youtube fa-lg"></i></a>
                    <a href="#" class="text-white"><i class="fab fa-github fa-lg"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const completedUnits = JSON.parse(localStorage.getItem('os_completed_units')) || {};
            const totalModules = 17; // 16 units + 1 summary unit
            
            function updateProgress() {
                const completedCount = Object.keys(completedUnits).length;
                const progressPercentage = (completedCount / totalModules) * 100;
                const progressBar = document.querySelector('.progress-bar');
                
                progressBar.style.width = `${progressPercentage}%`;
                progressBar.setAttribute('aria-valuenow', progressPercentage);
                progressBar.textContent = `${Math.round(progressPercentage)}% مكتمل`;
                
                localStorage.setItem('os_completed_modules', completedCount);
            }
            
            // Mark current unit (Unit 7) as completed and update progress
            if (!completedUnits['unit7']) {
                completedUnits['unit7'] = true;
                localStorage.setItem('os_completed_units', JSON.stringify(completedUnits));
                updateProgress();
            } else {
                updateProgress(); // Just update progress bar if already completed
            }
        });
    </script>
</body>
</html>
