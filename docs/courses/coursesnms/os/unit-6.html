<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الوحدة 6: الجمود (Deadlock) والمجاعة (Starvation) | أنظمة التشغيل</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #2c3e50; /* Dark Blue/Grey */
            --secondary-color: #3498db; /* Bright Blue */
            --accent-color: #e74c3c; /* Red */
            --light-bg: #f8f9fa; /* Light Grey */
            --dark-text: #2c3e50; /* Dark Blue/Grey */
            --light-text: #7f8c8d; /* Medium Grey */
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--light-bg);
            color: var(--dark-text);
            line-height: 1.8;
        }

        .navbar {
            background-color: var(--primary-color);
        }

        .sidebar {
            background-color: #fff;
            padding: 15px;
            border-radius: 0.75rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .content-section {
            background-color: #fff;
            padding: 30px;
            border-radius: 0.75rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .course-title {
            color: var(--primary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .list-group-item.active {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
        }

        .list-group-item.active .module-link, .list-group-item.active .module-link .badge {
            color: white;
        }

        .module-link {
            text-decoration: none;
            color: var(--dark-text);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .accordion-button:not(.collapsed) {
            color: #fff;
            background-color: var(--secondary-color);
            box-shadow: none;
        }

        .accordion-button:not(.collapsed)::after {
            filter: brightness(0) invert(1);
        }

        .unit-icon {
            color: var(--secondary-color);
            margin-left: 10px;
        }

        .unit-icon-header {
            color: var(--primary-color);
            margin-left: 10px;
        }

        .quiz-section, .enhancement-section, .summary-section {
            padding: 20px;
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .quiz-section {
            background-color: #e9ecef;
            border-left: 5px solid var(--secondary-color);
        }

        .enhancement-section {
            background-color: #e9f5ff;
            border-left: 5px solid #28a745;
        }

        .summary-section {
            background-color: #f1f1f1;
            border-left: 5px solid var(--primary-color);
        }

        .footer {
            background-color: var(--primary-color);
            color: white;
        }

        .progress-container {
            height: 25px;
        }

        .progress-bar {
            background-color: var(--secondary-color);
        }

        .btn-check:checked + .btn-outline-primary, .btn-outline-primary:hover {
            color: white;
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
        }

        @media (max-width: 991px) {
            .sidebar {
                margin-top: 1rem;
            }
        }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-desktop me-2"></i>
                أنظمة التشغيل
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="../../../pathways/tvtc-cs-security.html">
                            <i class="fas fa-arrow-right me-1"></i>
                            العودة إلى المقررات
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-4">
        <div class="row">
            <!-- Sidebar for Units -->
            <div class="col-lg-3">
                <div class="sidebar p-4">
                    <h4 class="mb-3">
                        <i class="fas fa-stream me-2"></i>
                        وحدات المقرر
                    </h4>
                    <div class="progress progress-container mb-4">
                        <div class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
                    </div>
                    <div class="accordion" id="unitsAccordion">
                        <!-- Unit 1 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-desktop"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 1: نظرة عامة على النظام الحاسوبي</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الأولى...</p>
                                <a href="unit-1.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 2 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-cogs"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 2: لمحة عن أنظمة التشغيل</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الثانية...</p>
                                <a href="unit-2.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 3 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-tasks"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 3: وصف وإدارة العملية</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الثالثة...</p>
                                <a href="unit-3.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 4 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFour">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-code-branch"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 4: الخيوط (Threads)</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الرابعة...</p>
                                <a href="unit-4.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 5 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFive">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-sync-alt"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 5: التزامن والحصر المتبادل</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الخامسة...</p>
                                <a href="unit-5.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 6 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingSix">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="true" aria-controls="collapseSix">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-hand-paper"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 6: الجمود (Deadlock) والمجاعة (Starvation)</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseSix" class="accordion-collapse collapse show" aria-labelledby="headingSix" data-bs-parent="#unitsAccordion">
                                <div class="accordion-body">
                                    <ul class="list-unstyled">
                                        <li><a href="unit-6.html#section1" class="text-decoration-none">مبادئ الجمود</a></li>
                                        <li><a href="unit-6.html#section2" class="text-decoration-none">منع الجمود</a></li>
                                        <li><a href="unit-6.html#section3" class="text-decoration-none">تجنّب الجمود</a></li>
                                        <li><a href="unit-6.html#section4" class="text-decoration-none">كشف الجمود</a></li>
                                        <li><a href="unit-6.html#section5" class="text-decoration-none">استراتيجية متكاملة</a></li>
                                        <li><a href="unit-6.html#section6" class="text-decoration-none">مشكلة الفلاسفة الجائعين</a></li>
                                        <li><a href="unit-6.html#section7" class="text-decoration-none">آليات التزامن في أنظمة التشغيل</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- Unit 7 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingSeven">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSeven" aria-expanded="false" aria-controls="collapseSeven">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-memory"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 7: إدارة الذاكرة</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseSeven" class="accordion-collapse collapse" aria-labelledby="headingSeven" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة السابعة...</p>
                                <a href="unit-7.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 8 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingEight">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEight" aria-expanded="false" aria-controls="collapseEight">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-hdd"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 8: الذاكرة الافتراضية</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseEight" class="accordion-collapse collapse" aria-labelledby="headingEight" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الثامنة...</p>
                                <a href="unit-8.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 9 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingNine">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseNine" aria-expanded="false" aria-controls="collapseNine">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-calendar-alt"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 9: جدولة أحادية المعالج</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseNine" class="accordion-collapse collapse" aria-labelledby="headingNine" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة التاسعة...</p>
                                <a href="unit-9.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 10 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTen">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTen" aria-expanded="false" aria-controls="collapseTen">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-microchip"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 10: جدولة متعددة المعالجات والمعالجة الزمنية الحقيقية</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseTen" class="accordion-collapse collapse" aria-labelledby="headingTen" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة العاشرة...</p>
                                <a href="unit-10.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 11 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingEleven">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEleven" aria-expanded="false" aria-controls="collapseEleven">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-exchange-alt"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 11: إدارة I/O وجدولة الأقراص</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseEleven" class="accordion-collapse collapse" aria-labelledby="headingEleven" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الحادية عشرة...</p>
                                <a href="unit-11.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 12 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwelve">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwelve" aria-expanded="false" aria-controls="collapseTwelve">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-folder-open"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 12: إدارة الملفات</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseTwelve" class="accordion-collapse collapse" aria-labelledby="headingTwelve" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الثانية عشرة...</p>
                                <a href="unit-12.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 13 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingThirteen">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThirteen" aria-expanded="false" aria-controls="collapseThirteen">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-microchip"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 13: أنظمة تشغيل مدمجة</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseThirteen" class="accordion-collapse collapse" aria-labelledby="headingThirteen" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الثالثة عشرة...</p>
                                <a href="unit-13.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 14 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFourteen">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFourteen" aria-expanded="false" aria-controls="collapseFourteen">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-server"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 14: الآلات الافتراضية</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseFourteen" class="accordion-collapse collapse" aria-labelledby="headingFourteen" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الرابعة عشرة...</p>
                                <a href="unit-14.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 15 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFifteen">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFifteen" aria-expanded="false" aria-controls="collapseFifteen">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-lock"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 15: أمن أنظمة التشغيل</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseFifteen" class="accordion-collapse collapse" aria-labelledby="headingFifteen" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الخامسة عشرة...</p>
                                <a href="unit-15.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 16 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingSixteen">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSixteen" aria-expanded="false" aria-controls="collapseSixteen">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-cloud"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 16: أنظمة تشغيل السحابة وإنترنت الأشياء</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseSixteen" class="accordion-collapse collapse" aria-labelledby="headingSixteen" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة السادسة عشرة...</p>
                                <a href="unit-16.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                                </div>
                            </div>
                        <!-- Unit Summary -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingSummary">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSummary" aria-expanded="false" aria-controls="collapseSummary">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-graduation-cap"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة الختامية: ملخص المقرر</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseSummary" class="accordion-collapse collapse" aria-labelledby="headingSummary" data-bs-parent="#unitsAccordion">
                                <p>ملخص شامل للمقرر وتوجيه مهني.</p>
                                <a href="unit-summary.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-lg-9">
                <div class="content-section mb-4 p-5">
                    <h1 class="course-title">
                        <i class="fas fa-hand-paper unit-icon-header"></i>
                        الوحدة 6: الجمود (Deadlock) والمجاعة (Starvation)
                    </h1>
                    <span class="badge bg-secondary mb-4">Deadlock and Starvation in Operating Systems</span>
                    <p class="text-muted">
                        📚 استنادًا إلى الفصل السادس من كتاب: Operating Systems: Internals and Design Principles – William Stallings – الإصدار التاسع
                    </p>

                    <div class="mb-4">
                        <h4><i class="fas fa-bullseye me-2"></i>أهداف الوحدة</h4>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check-circle text-success me-2"></i> فهم مفهوم الجمود Deadlock وكيفية نشوئه.</li>
                            <li><i class="fas fa-check-circle text-success me-2"></i> التمييز بين الجمود والمجاعة.</li>
                            <li><i class="fas fa-check-circle text-success me-2"></i> استيعاب استراتيجيات منع وتفادي وكشف الجمود.</li>
                            <li><i class="fas fa-check-circle text-success me-2"></i> تطبيق الحلول الشهيرة مثل خوارزمية البنك Banker’s Algorithm.</li>
                            <li><i class="fas fa-check-circle text-success me-2"></i> التعرف على أشهر الأمثلة مثل مشكلة الفلاسفة الجائعين (Dining Philosophers Problem).</li>
                            <li><i class="fas fa-check-circle text-success me-2"></i> مقارنة آليات التعامل مع الجمود في أنظمة التشغيل المختلفة (Unix, Linux, Windows, Android).</li>
                        </ul>
                    </div>

                    <hr>

                    <section id="section1" class="mb-5">
                        <h2 class="course-title">1️⃣ مبادئ الجمود (Deadlock)</h2>
                        <h4>🔸 الجمود (Deadlock):</h4>
                        <p>
                            الجمود هو حالة حرجة في أنظمة التشغيل المتزامنة تحدث عندما تتوقف مجموعة من العمليات بشكل دائم، لأن كل عملية في المجموعة تنتظر موردًا محتجزًا من قبل عملية أخرى في نفس المجموعة. هذا يؤدي إلى توقف جميع العمليات المعنية عن التقدم.
                        </p>
                        <h4>🔹 شروط نشوء الجمود (Coffman Conditions):</h4>
                        <p>
                            لكي يحدث الجمود، يجب أن تتحقق الشروط الأربعة التالية في نفس الوقت:
                        </p>
                        <ul>
                            <li><strong>الحصر المتبادل (Mutual Exclusion):</strong> يجب أن يكون المورد غير قابل للمشاركة، أي يمكن لعملية واحدة فقط احتجاز المورد في أي وقت. إذا حاولت عملية أخرى الوصول إليه، يجب أن تنتظر.</li>
                            <li><strong>الاحتفاظ والانتظار (Hold and Wait):</strong> يجب أن تكون العملية قادرة على الاحتفاظ بمورد واحد على الأقل بينما تنتظر (وتطلب) موردًا آخر محتجزًا من قبل عملية أخرى.</li>
                            <li><strong>عدم الإزاحة القسرية (No Preemption):</strong> لا يمكن إجبار عملية على التنازل عن المورد الذي تحتجزه (أي لا يمكن سحب المورد منها بالقوة) إلا بعد أن تنتهي من استخدامه وتطلقه طواعية.</li>
                            <li><strong>الانتظار الدوري (Circular Wait):</strong> يجب أن توجد سلسلة مغلقة من العمليات (P1, P2, ..., Pn) حيث P1 تنتظر موردًا تحتجزه P2، وP2 تنتظر موردًا تحتجزه P3، وهكذا حتى Pn تنتظر موردًا تحتجزه P1.</li>
                        </ul>
                        <blockquote class="blockquote bg-light p-3 border-start border-primary border-5 rounded-3">
                            <p class="mb-0 fst-italic">
                                <strong>📘 ملاحظة:</strong> إذا توفرت الشروط الأربعة جميعها، فقد يحدث الجمود. كسر أي من هذه الشروط يمكن أن يمنع حدوث الجمود.
                            </p>
                        </blockquote>
                        <div class="alert alert-info mt-3">
                            <p class="mb-0">
                                <strong>🔗 مقال موسع:</strong>
                                <a href="https://www.geeksforgeeks.org/deadlock-in-operating-system/" target="_blank" class="alert-link">Deadlock in Operating Systems – GeeksForGeeks</a>
                            </p>
                        </div>
                    </section>

                    <hr>

                    <section id="section2" class="mb-5">
                        <h2 class="course-title">2️⃣ منع الجمود (Deadlock Prevention)</h2>
                        <p>
                            تهدف استراتيجيات منع الجمود إلى ضمان عدم حدوث الجمود على الإطلاق، وذلك عن طريق كسر أحد الشروط الأربعة الضرورية لنشوئه.
                        </p>
                        <h4>🔸 أمثلة على طرق منع الجمود:</h4>
                        <ul>
                            <li><strong>كسر شرط الانتظار الدوري (Circular Wait):</strong>
                                <ul>
                                    <li><strong>فرض ترتيب ثابت لطلب الموارد:</strong> يتم تعيين رقم فريد لكل نوع من الموارد، وتُجبر العمليات على طلب الموارد بترتيب تصاعدي للأرقام. هذا يضمن عدم وجود انتظار دوري.</li>
                                </ul>
                            </li>
                            <li><strong>كسر شرط الاحتفاظ والانتظار (Hold and Wait):</strong>
                                <ul>
                                    <li><strong>طلب جميع الموارد دفعة واحدة:</strong> يجب على العملية أن تطلب وتحتجز جميع الموارد التي تحتاجها في بداية تنفيذها. إذا لم تكن جميع الموارد متاحة، فلا تحتجز أيًا منها.</li>
                                    <li><strong>إطلاق الموارد المحتجزة:</strong> إذا كانت العملية تحتجز موارد وتحتاج إلى مورد آخر غير متاح، فيجب عليها إطلاق جميع الموارد التي تحتجزها حاليًا ثم إعادة طلبها كلها لاحقًا.</li>
                                </ul>
                            </li>
                            <li><strong>كسر شرط عدم الإزاحة القسرية (No Preemption):</strong>
                                <ul>
                                    <li><strong>السماح بالإزاحة القسرية:</strong> إذا كانت عملية تحتاج إلى مورد تحتجزه عملية أخرى، يمكن إجبار العملية الأخرى على التنازل عن المورد (إزاحته قسريًا) إذا كانت حالتها تسمح بذلك (مثل أن تكون في حالة انتظار).</li>
                                </ul>
                            </li>
                            <li><strong>كسر شرط الحصر المتبادل (Mutual Exclusion):</strong>
                                <ul>
                                    <li><strong>جعل الموارد قابلة للمشاركة:</strong> إذا أمكن، يتم تصميم الموارد بحيث يمكن لعدة عمليات مشاركتها في نفس الوقت (مثل ملفات القراءة فقط). ومع ذلك، هذا ليس ممكنًا دائمًا لجميع أنواع الموارد.</li>
                                </ul>
                            </li>
                        </ul>
                        <blockquote class="blockquote bg-light p-3 border-start border-primary border-5 rounded-3">
                            <p class="mb-0 fst-italic">
                                <strong>📌 ملاحظة:</strong> على الرغم من أن هذه الطرق تمنع الجمود، إلا أنها قد تؤثر سلبًا على الأداء، أو تقلل من استخدام الموارد، أو تزيد من تعقيد تصميم النظام.
                            </p>
                        </blockquote>
                    </section>

                    <hr>

                    <section id="section3" class="mb-5">
                        <h2 class="course-title">3️⃣ تجنّب الجمود (Deadlock Avoidance)</h2>
                        <p>
                            تعمل استراتيجيات تجنب الجمود على تحليل حالة النظام بشكل ديناميكي قبل منح أي مورد. الهدف هو التأكد من أن منح المورد لن يؤدي إلى حالة جمود في المستقبل. يتطلب ذلك معرفة مسبقة بمتطلبات الموارد القصوى لكل عملية.
                        </p>
                        <h4>🔹 خوارزمية البنّاء (Banker’s Algorithm):</h4>
                        <p>
                            هي خوارزمية شهيرة لتجنب الجمود. تمثل النظام كأنه بنك يمنح قروضًا (تمثل الموارد) للعملاء (تمثل العمليات). قبل منح أي "قرض" (مورد)، يتحقق البنك (نظام التشغيل) دائمًا من أن حالة النظام ستظل "آمنة" بعد منح المورد.
                        </p>
                        <ul>
                            <li><strong>الحالة الآمنة (Safe State):</strong> هي حالة يمكن فيها للنظام تخصيص الموارد لكل عملية (حتى لو طلبت أقصى مواردها) بترتيب معين دون الوقوع في جمود.</li>
                            <li><strong>الحالة غير الآمنة (Unsafe State):</strong> هي حالة قد تؤدي إلى جمود، ولا يضمن النظام فيها تلبية جميع طلبات الموارد.</li>
                        </ul>
                        <h4>🔸 متطلبات خوارزمية البنّاء:</h4>
                        <ul>
                            <li><strong>المعرفة المسبقة:</strong> يجب أن يعرف نظام التشغيل الحد الأقصى لعدد كل نوع من الموارد التي قد تحتاجها كل عملية.</li>
                            <li><strong>تحديث مستمر:</strong> يجب تحديث مصفوفات الطلب والتخصيص للموارد باستمرار.</li>
                            <li><strong>تعقيد الحساب:</strong> تتطلب الخوارزمية حسابات معقدة نسبيًا في كل مرة يتم فيها طلب مورد، مما قد يؤثر على الأداء في الأنظمة الكبيرة.</li>
                        </ul>
                        <div class="alert alert-info mt-3">
                            <p class="mb-0">
                                <strong>🔗 شرح مفصل + كود:</strong>
                                <a href="https://www.programiz.com/dsa/bankers-algorithm" target="_blank" class="alert-link">Banker’s Algorithm – Programiz</a>
                            </p>
                        </div>
                    </section>

                    <hr>

                    <section id="section4" class="mb-5">
                        <h2 class="course-title">4️⃣ كشف الجمود (Deadlock Detection)</h2>
                        <p>
                            إذا لم يقم نظام التشغيل بمنع أو تجنب الجمود، فإنه يمكن أن يسمح بحدوثه ثم يحاول كشفه ومعالجته.
                        </p>
                        <h4>🔸 كيفية الكشف عن الجمود:</h4>
                        <ul>
                            <li><strong>استخدام رسم بياني للموارد (Resource Allocation Graph):</strong> يمكن لنظام التشغيل بناء رسم بياني يوضح العمليات والموارد، والعلاقات بينها (من يطلب ماذا، ومن يحتجز ماذا). إذا تم رصد دورة (Cycle) في هذا الرسم البياني، فهذا يشير إلى وجود جمود.</li>
                            <li><strong>خوارزميات الكشف:</strong> يتم تشغيل خوارزميات خاصة بشكل دوري (أو عند طلب مورد لا يمكن تلبيته) لتحليل الرسم البياني وتحديد ما إذا كان هناك جمود.</li>
                        </ul>
                        <h4>🔸 استعادة النظام بعد الكشف عن الجمود:</h4>
                        <p>
                            إذا تم رصد الجمود، يقوم النظام بمحاولة استعادة حالته الطبيعية، وذلك عادةً عن طريق:
                        </p>
                        <ul>
                            <li><strong>إيقاف العمليات (Process Termination):</strong> إنهاء عملية واحدة أو أكثر من العمليات المتورطة في الجمود. قد يكون ذلك إنهاءً لجميع العمليات المتورطة، أو إنهاءً تدريجيًا لعملية واحدة تلو الأخرى حتى يتم كسر الجمود.</li>
                            <li><strong>سحب الموارد (Resource Preemption):</strong> إجبار عملية على التنازل عن مورد تحتجزه، ثم تخصيص هذا المورد لعملية أخرى متورطة في الجمود.</li>
                            <li><strong>إعادة جدولة العمليات (Process Rollback):</strong> إعادة العملية إلى حالة سابقة (نقطة تحقق - Checkpoint) قبل أن تدخل في حالة الجمود، ثم إعادة تشغيلها من تلك النقطة.</li>
                        </ul>
                    </section>

                    <hr>

                    <section id="section5" class="mb-5">
                        <h2 class="course-title">5️⃣ استراتيجية متكاملة (An Integrated Deadlock Strategy)</h2>
                        <p>
                            في الممارسة العملية، لا يوجد حل واحد مثالي للتعامل مع الجمود يناسب جميع الأنظمة والسيناريوهات. لذلك، غالبًا ما تتبنى أنظمة التشغيل الحديثة استراتيجية متكاملة تجمع بين عدة أساليب:
                        </p>
                        <ul>
                            <li><strong>منع Deadlock في الموارد الحرجة:</strong> بالنسبة للموارد الحيوية والنادرة التي يمكن أن يسبب الجمود فيها كارثة (مثل أقفال النواة الأساسية)، قد يتم تطبيق آليات منع صارمة لضمان عدم حدوث الجمود على الإطلاق.</li>
                            <li><strong>الكشف فقط في الموارد منخفضة التأثير:</strong> بالنسبة للموارد الأقل أهمية أو التي يكون فيها حدوث الجمود نادرًا ولا يسبب أضرارًا جسيمة، قد يكتفي النظام بالكشف عن الجمود فقط ثم اتخاذ إجراءات استعادة بسيطة (مثل إنهاء العملية المتورطة).</li>
                            <li><strong>تجاهل الجمود أحيانًا:</strong> في بعض البيئات، خاصة في أنظمة المستخدم الواحد أو الأنظمة التي يكون فيها الجمود نادرًا جدًا وتكلفة الكشف والمعالجة عالية، قد يتم تجاهل مشكلة الجمود. يُعرف هذا النهج بـ "خوارزمية النعامة" (Ostrich Algorithm)، حيث يتم تجاهل المشكلة على أمل ألا تحدث، أو أن المستخدم سيقوم بإعادة تشغيل النظام يدويًا إذا حدثت. هذا هو النهج المتبع في بعض إصدارات أنظمة التشغيل مثل Windows.</li>
                        </ul>
                        <blockquote class="blockquote bg-light p-3 border-start border-primary border-5 rounded-3">
                            <p class="mb-0 fst-italic">
                                <strong>📘 الخلاصة:</strong> تعتمد الاستراتيجية المختارة على طبيعة النظام، أهمية الموارد، وتكلفة تطبيق كل استراتيجية، بالإضافة إلى مدى تأثير الجمود على أداء النظام واستقراره.
                            </p>
                        </blockquote>
                    </section>

                    <hr>

                    <section id="section6" class="mb-5">
                        <h2 class="course-title">6️⃣ مشكلة الفلاسفة الجائعين (Dining Philosophers Problem)</h2>
                        <p>
                            مشكلة الفلاسفة الجائعين هي مشكلة كلاسيكية في علوم الحاسوب، تُستخدم لشرح تحديات التزامن والحصر المتبادل، وتوضح بشكل خاص إمكانية حدوث الجمود والمجاعة.
                        </p>
                        <h4>🔹 الوصف الكلاسيكي للمشكلة:</h4>
                        <p>
                            تخيل خمسة فلاسفة يجلسون حول طاولة دائرية. يوجد طبق من الأرز في منتصف الطاولة، وشوكة واحدة بين كل فيلسوفين.
                        </p>
                        <ul>
                            <li>كل فيلسوف يتناوب بين التفكير وتناول الطعام.</li>
                            <li>لكي يتمكن الفيلسوف من تناول الطعام، يحتاج إلى شوكتين (موردين): الشوكة التي على يساره والشوكة التي على يمينه.</li>
                            <li>يمكن للفيلسوف أن يلتقط شوكة واحدة في كل مرة.</li>
                        </ul>
                        <blockquote class="blockquote bg-light p-3 border-start border-primary border-5 rounded-3">
                            <p class="mb-0 fst-italic">
                                <strong>📌 سيناريو الجمود:</strong> إذا قام كل فيلسوف بالتقاط الشوكة التي على يساره في نفس الوقت، ثم انتظر الشوكة التي على يمينه، فسيحدث جمود. كل فيلسوف يحتجز موردًا (شوكة واحدة) وينتظر موردًا آخر (الشوكة الثانية) الذي تحتجزه عملية أخرى في حلقة دائرية. لا يمكن لأي فيلسوف أن يأكل، ولا يمكن لأي شوكة أن تُطلق.
                            </p>
                            
</section>

                <div class="d-flex justify-content-between">
                    <a href="unit-5.html" class="btn btn-outline-primary">
                        <i class="fas fa-arrow-right me-1"></i>
                        الوحدة السابقة: التزامن والحصر المتبادل
                    </a>
                    <a href="unit-7.html" class="btn btn-primary">
                        الوحدة التالية: إدارة الذاكرة
                        <i class="fas fa-arrow-left ms-1"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<footer class="bg-dark text-white py-4 mt-5">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h5>مسار الأمن السيبراني</h5>
                <p>منصة تعليمية متخصصة في تقديم محتوى أكاديمي وعملي في مجال الأمن السيبراني.</p>
            </div>
            <div class="col-md-3">
                <h5>روابط سريعة</h5>
                <ul class="list-unstyled">
                    <li><a href="../index.html" class="text-white text-decoration-none">الرئيسية</a></li>
                    <li><a href="#" class="text-white text-decoration-none">جميع المقررات</a></li>
                    <li><a href="#" class="text-white text-decoration-none">الدعم الفني</a></li>
                </ul>
            </div>
            <div class="col-md-3">
                <h5>تواصل معنا</h5>
                <ul class="list-unstyled">
                    <li><i class="fas fa-envelope me-2"></i> info@cyberpath.com</li>
                    <li><i class="fas fa-phone me-2"></i> 0502161465</li>
                </ul>
            </div>
        </div>
        <hr class="my-4 bg-light">
        <div class="row">
            <div class="col-md-6">
                <p class="mb-0">&copy; 2025 مسار الأمن السيبراني. جميع الحقوق محفوظة.</p>
            </div>
            <div class="col-md-6 text-md-end">
                <a href="#" class="text-white me-3"><i class="fab fa-twitter fa-lg"></i></a>
                <a href="#" class="text-white me-3"><i class="fab fa-linkedin fa-lg"></i></a>
                <a href="#" class="text-white me-3"><i class="fab fa-youtube fa-lg"></i></a>
                <a href="#" class="text-white"><i class="fab fa-github fa-lg"></i></a>
            </div>
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const completedUnits = JSON.parse(localStorage.getItem('os_completed_units')) || {};
        const totalModules = 17; // 16 units + 1 summary unit
        
        function updateProgress() {
            const completedCount = Object.keys(completedUnits).length;
            const progressPercentage = (completedCount / totalModules) * 100;
            const progressBar = document.querySelector('.progress-bar');
            
            progressBar.style.width = `${progressPercentage}%`;
            progressBar.setAttribute('aria-valuenow', progressPercentage);
            progressBar.textContent = `${Math.round(progressPercentage)}% مكتمل`;
            
            localStorage.setItem('os_completed_modules', completedCount);
        }
        
        // Mark current unit (Unit 6) as completed and update progress
        if (!completedUnits['unit6']) {
            completedUnits['unit6'] = true;
            localStorage.setItem('os_completed_units', JSON.stringify(completedUnits));
            updateProgress();
        } else {
            updateProgress(); // Just update progress bar if already completed
        }
    });
</script>
</body>
</html>
