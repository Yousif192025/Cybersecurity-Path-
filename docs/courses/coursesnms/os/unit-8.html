<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الوحدة 8: الذاكرة الافتراضية | أنظمة التشغيل</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #2c3e50; /* Dark Blue/Grey */
            --secondary-color: #3498db; /* Bright Blue */
            --accent-color: #e74c3c; /* Red */
            --light-bg: #f8f9fa; /* Light Grey */
            --dark-text: #2c3e50; /* Dark Blue/Grey */
            --light-text: #7f8c8d; /* Medium Grey */
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--light-bg);
            color: var(--dark-text);
            line-height: 1.8;
        }

        .navbar {
            background-color: var(--primary-color);
        }

        .sidebar {
            background-color: #fff;
            padding: 15px;
            border-radius: 0.75rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .content-section {
            background-color: #fff;
            padding: 30px;
            border-radius: 0.75rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .course-title {
            color: var(--primary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .list-group-item.active {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
        }

        .list-group-item.active .module-link, .list-group-item.active .module-link .badge {
            color: white;
        }

        .module-link {
            text-decoration: none;
            color: var(--dark-text);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .accordion-button:not(.collapsed) {
            color: #fff;
            background-color: var(--secondary-color);
            box-shadow: none;
        }

        .accordion-button:not(.collapsed)::after {
            filter: brightness(0) invert(1);
        }

        .unit-icon {
            color: var(--secondary-color);
            margin-left: 10px;
        }

        .unit-icon-header {
            color: var(--primary-color);
            margin-left: 10px;
        }

        .quiz-section, .enhancement-section, .summary-section {
            padding: 20px;
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .quiz-section {
            background-color: #e9ecef;
            border-left: 5px solid var(--secondary-color);
        }

        .enhancement-section {
            background-color: #e9f5ff;
            border-left: 5px solid #28a745;
        }

        .summary-section {
            background-color: #f1f1f1;
            border-left: 5px solid var(--primary-color);
        }

        .footer {
            background-color: var(--primary-color);
            color: white;
        }

        .progress-container {
            height: 25px;
        }

        .progress-bar {
            background-color: var(--secondary-color);
        }

        .btn-check:checked + .btn-outline-primary, .btn-outline-primary:hover {
            color: white;
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
        }

        @media (max-width: 991px) {
            .sidebar {
                margin-top: 1rem;
            }
        }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-desktop me-2"></i>
                أنظمة التشغيل
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="../../../pathways/tvtc-cs-security.html">
                            <i class="fas fa-arrow-right me-1"></i>
                            العودة إلى المقررات
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-4">
        <div class="row">
            <!-- Sidebar for Units -->
            <div class="col-lg-3">
                <div class="sidebar p-4">
                    <h4 class="mb-3">
                        <i class="fas fa-stream me-2"></i>
                        وحدات المقرر
                    </h4>
                    <div class="progress progress-container mb-4">
                        <div class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
                    </div>
                    <div class="accordion" id="unitsAccordion">
                        <!-- Unit 1 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-desktop"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 1: نظرة عامة على النظام الحاسوبي</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الأولى...</p>
                                <a href="unit-1.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 2 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-cogs"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 2: لمحة عن أنظمة التشغيل</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الثانية...</p>
                                <a href="unit-2.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 3 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-tasks"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 3: وصف وإدارة العملية</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الثالثة...</p>
                                <a href="unit-3.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 4 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFour">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-code-branch"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 4: الخيوط (Threads)</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الرابعة...</p>
                                <a href="unit-4.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 5 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFive">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-sync-alt"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 5: التزامن والحصر المتبادل</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الخامسة...</p>
                                <a href="unit-5.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 6 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingSix">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-hand-paper"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 6: الجمود (Deadlock) والمجاعة (Starvation)</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة السادسة...</p>
                                <a href="unit-6.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 7 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingSeven">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSeven" aria-expanded="false" aria-controls="collapseSeven">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-memory"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 7: إدارة الذاكرة</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseSeven" class="accordion-collapse collapse" aria-labelledby="headingSeven" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة السابعة...</p>
                                <a href="unit-7.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 8 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingEight">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEight" aria-expanded="true" aria-controls="collapseEight">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-hdd"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 8: الذاكرة الافتراضية</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseEight" class="accordion-collapse collapse show" aria-labelledby="headingEight" data-bs-parent="#unitsAccordion">
                                <div class="accordion-body">
                                    <ul class="list-unstyled">
                                        <li><a href="unit-8.html#section1" class="text-decoration-none">هياكل العتاد والرقابة</a></li>
                                        <li><a href="unit-8.html#section2" class="text-decoration-none">برمجيات نظام التشغيل</a></li>
                                        <li><a href="unit-8.html#section3" class="text-decoration-none">إدارة الذاكرة في أنظمة مختلفة</a></li>
                                        <li><a href="unit-8.html#section4" class="text-decoration-none">مفاهيم وتقنيات داعمة</a></li>
                                        <li><a href="unit-8.html#section5" class="text-decoration-none">الأداء والتحديات</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- Unit 9 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingNine">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseNine" aria-expanded="false" aria-controls="collapseNine">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-calendar-alt"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 9: جدولة أحادية المعالج</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseNine" class="accordion-collapse collapse" aria-labelledby="headingNine" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة التاسعة...</p>
                                <a href="unit-9.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 10 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTen">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTen" aria-expanded="false" aria-controls="collapseTen">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-microchip"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 10: جدولة متعددة المعالجات والمعالجة الزمنية الحقيقية</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseTen" class="accordion-collapse collapse" aria-labelledby="headingTen" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة العاشرة...</p>
                                <a href="unit-10.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 11 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingEleven">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEleven" aria-expanded="false" aria-controls="collapseEleven">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-exchange-alt"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 11: إدارة I/O وجدولة الأقراص</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseEleven" class="accordion-collapse collapse" aria-labelledby="headingEleven" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الحادية عشرة...</p>
                                <a href="unit-11.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 12 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwelve">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwelve" aria-expanded="false" aria-controls="collapseTwelve">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-folder-open"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 12: إدارة الملفات</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseTwelve" class="accordion-collapse collapse" aria-labelledby="headingTwelve" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الثانية عشرة...</p>
                                <a href="unit-12.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 13 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingThirteen">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThirteen" aria-expanded="false" aria-controls="collapseThirteen">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-microchip"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 13: أنظمة تشغيل مدمجة</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseThirteen" class="accordion-collapse collapse" aria-labelledby="headingThirteen" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الثالثة عشرة...</p>
                                <a href="unit-13.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 14 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFourteen">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFourteen" aria-expanded="false" aria-controls="collapseFourteen">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-server"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 14: الآلات الافتراضية</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseFourteen" class="accordion-collapse collapse" aria-labelledby="headingFourteen" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الرابعة عشرة...</p>
                                <a href="unit-14.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 15 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFifteen">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFifteen" aria-expanded="false" aria-controls="collapseFifteen">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-lock"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 15: أمن أنظمة التشغيل</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseFifteen" class="accordion-collapse collapse" aria-labelledby="headingFifteen" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة الخامسة عشرة...</p>
                                <a href="unit-15.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                        <!-- Unit 16 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingSixteen">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSixteen" aria-expanded="false" aria-controls="collapseSixteen">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-cloud"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة 16: أنظمة تشغيل السحابة وإنترنت الأشياء</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseSixteen" class="accordion-collapse collapse" aria-labelledby="headingSixteen" data-bs-parent="#unitsAccordion">
                                <p>محتوى الوحدة السادسة عشرة...</p>
                                <a href="unit-16.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                                </div>
                            </div>
                        <!-- Unit Summary -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingSummary">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSummary" aria-expanded="false" aria-controls="collapseSummary">
                                    <div class="d-flex align-items-center">
                                        <div class="module-icon me-3">
                                            <i class="fas fa-graduation-cap"></i>
                                        </div>
                                        <div>
                                            <h5 class="mb-0">الوحدة الختامية: ملخص المقرر</h5>
                                        </div>
                                    </div>
                                </button>
                            </h2>
                            <div id="collapseSummary" class="accordion-collapse collapse" aria-labelledby="headingSummary" data-bs-parent="#unitsAccordion">
                                <p>ملخص شامل للمقرر وتوجيه مهني.</p>
                                <a href="unit-summary.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-lg-9">
                <div class="content-section mb-4 p-5">
                    <h1 class="course-title">
                        <i class="fas fa-hdd unit-icon-header"></i>
                        الوحدة 8: الذاكرة الافتراضية
                    </h1>
                    <span class="badge bg-secondary mb-4">Virtual Memory</span>
                    <p class="text-muted">
                        📚 استنادًا إلى الفصل الثامن من كتاب: Operating Systems: Internals and Design Principles – William Stallings – الإصدار التاسع
                    </p>

                    <div class="mb-4">
                        <h4><i class="fas fa-bullseye me-2"></i>أهداف الوحدة</h4>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check-circle text-success me-2"></i> فهم مفهوم الذاكرة الافتراضية وكيفية عملها.</li>
                            <li><i class="fas fa-check-circle text-success me-2"></i> التعرف على هياكل العتاد (MMU, Page Table, TLB) ودورها في الذاكرة الافتراضية.</li>
                            <li><i class="fas fa-check-circle text-success me-2"></i> استيعاب برمجيات نظام التشغيل المسؤولة عن إدارة الذاكرة الافتراضية (Demand Paging, Page Replacement).</li>
                            <li><i class="fas fa-check-circle text-success me-2"></i> مقارنة آليات إدارة الذاكرة الافتراضية في أنظمة التشغيل المختلفة (Linux, Windows, Android, Unix).</li>
                            <li><i class="fas fa-check-circle text-success me-2"></i> فهم التحديات المتعلقة بالأداء مثل Thrashing وكيفية معالجتها.</li>
                        </ul>
                    </div>

                    <hr>

                    <section id="section1" class="mb-5">
                        <h2 class="course-title">1️⃣ هياكل العتاد والرقابة (Hardware and Control Structures)</h2>
                        <p>
                            الذاكرة الافتراضية هي تقنية ثورية تمكن نظام التشغيل من تنفيذ برامج أكبر من حجم الذاكرة الفعلية (RAM) المتاحة. تعتمد هذه التقنية بشكل كبير على دعم العتاد (Hardware) لتحويل العناوين وإدارة الصفحات.
                        </p>
                        <h4>🔍 كيف تعمل الذاكرة الافتراضية على مستوى العتاد؟</h4>
                        <ul>
                            <li>
                                <strong>العنوان الظاهري (Virtual Address):</strong>
                                <p>هو العنوان الذي يراه البرنامج ويستخدمه للوصول إلى البيانات والتعليمات. كل عملية لديها مساحة عنوان افتراضية خاصة بها، تبدأ عادةً من الصفر وتكون كبيرة جدًا (مثلاً 4 جيجابايت في الأنظمة 32 بت، أو تيرابايت في الأنظمة 64 بت)، بغض النظر عن حجم الذاكرة الفعلية المتاحة.</p>
                            </li>
                            <li>
                                <strong>العنوان الفعلي (Physical Address):</strong>
                                <p>هو العنوان الحقيقي في الذاكرة الرئيسية (RAM) حيث يتم تخزين البيانات والتعليمات فعليًا. هذا هو العنوان الذي تستخدمه وحدة الذاكرة للوصول إلى البيانات.</p>
                            </li>
                            <li>
                                <strong>وحدة إدارة الذاكرة (Memory Management Unit - MMU):</strong>
                                <p>هي مكون عتادي حيوي موجود داخل المعالج (CPU) أو بالقرب منه. دورها الأساسي هو تحويل العناوين الظاهرية التي يولدها المعالج إلى عناوين فيزيائية يمكن للذاكرة الرئيسية فهمها والوصول إليها. تحدث هذه العملية بسرعة فائقة لضمان أداء عالٍ.</p>
                            </li>
                            <li>
                                <strong>جدول الصفحات (Page Table):</strong>
                                <p>هو بنية بيانات رئيسية يحتفظ بها نظام التشغيل في الذاكرة الرئيسية. لكل عملية، يوجد جدول صفحات خاص بها. يحتوي هذا الجدول على إدخالات (Page Table Entries - PTEs) تربط كل صفحة منطقية (من مساحة العنوان الظاهرية للعملية) بإطار فيزيائي معين (Frame) في الذاكرة الرئيسية. إذا كانت الصفحة غير موجودة في الذاكرة الفعلية (أي أنها في القرص)، فإن إدخال جدول الصفحات يشير إلى ذلك.</p>
                            </li>
                            <li>
                                <strong>ذاكرة التخزين المؤقت للترجمة (Translation Lookaside Buffer – TLB):</strong>
                                <p>هي ذاكرة مخبأة (Cache) صغيرة وسريعة جدًا، موجودة داخل وحدة MMU. تُستخدم TLB لتسريع عملية تحويل العناوين الظاهرية إلى فيزيائية. تخزن TLB أحدث الإدخالات المستخدمة من جدول الصفحات. عندما يطلب المعالج عنوانًا ظاهريًا، يتم البحث عنه أولاً في TLB. إذا وُجد (TLB Hit)، يتم التحويل بسرعة كبيرة. إذا لم يُوجد (TLB Miss)، يتم الوصول إلى جدول الصفحات في الذاكرة الرئيسية، ثم يُضاف الإدخال إلى TLB للاستخدام المستقبلي.</p>
                            </li>
                        </ul>
                        <blockquote class="blockquote bg-light p-3 border-start border-primary border-5 rounded-3">
                            <p class="mb-0 fst-italic">
                                <strong>🧠 المفهوم الأساسي:</strong> تعتمد الذاكرة الافتراضية على مبدأ أن البرنامج لا يحتاج إلى أن يكون محملاً بالكامل في الذاكرة الرئيسية لكي يتم تنفيذه. يتم تحميل أجزاء من البرنامج (عادةً على شكل صفحات) فقط إلى الذاكرة الفعلية عند الحاجة إليها. الأجزاء غير النشطة تُخزّن مؤقتًا في ملف تبادل (Swap File) أو منطقة تبادل (Swap Space) على القرص الصلب. عندما تحاول العملية الوصول إلى جزء من البرنامج غير موجود في الذاكرة الفعلية، يحدث حدث يُعرف بـ "Page Fault" (خطأ الصفحة)، والذي يتولى نظام التشغيل معالجته.
                            </p>
                        </blockquote>
                        <div class="alert alert-info mt-3">
                            <p class="mb-0">
                                <strong>📘 للمزيد:</strong>
                                <a href="https://www.geeksforgeeks.org/virtual-memory-in-operating-system/" target="_blank" class="alert-link">Virtual Memory – GeeksforGeeks</a>
                            </p>
                        </div>
                    </section>

                    <hr>

                    <section id="section2" class="mb-5">
                        <h2 class="course-title">2️⃣ برمجيات نظام التشغيل (OS Software)</h2>
                        <p>
                            بينما توفر هياكل العتاد الدعم الأساسي لتحويل العناوين، فإن برمجيات نظام التشغيل هي التي تتولى المهام المعقدة لإدارة الذاكرة الافتراضية، بما في ذلك تحديد الصفحات التي يجب تحميلها أو إخراجها من الذاكرة.
                        </p>
                        <h4>مهام نظام التشغيل الرئيسية في إدارة الذاكرة الافتراضية:</h4>
                        <ul>
                            <li>
                                <strong>تحميل الصفحات عند الطلب (Demand Paging):</strong>
                                <p>هذه هي التقنية الأساسية للذاكرة الافتراضية. بدلاً من تحميل البرنامج بأكمله في الذاكرة عند بدء تشغيله، يتم تحميل الصفحات فقط عندما تحاول العملية الوصول إليها لأول مرة. هذا يقلل من وقت بدء تشغيل البرامج ويسمح بتشغيل برامج أكبر من الذاكرة الفعلية.</p>
                            </li>
                            <li>
                                <strong>التعامل مع أخطاء الصفحة (Page Fault Handling):</strong>
                                <p>عندما تحاول العملية الوصول إلى عنوان ظاهري يقع في صفحة غير موجودة حاليًا في الذاكرة الفعلية (أي أنها في القرص)، يحدث "Page Fault". يقوم نظام التشغيل بالخطوات التالية لمعالجة هذا الخطأ:</p>
                                <ol>
                                    <li>يتم حفظ حالة المعالج والعملية الحالية.</li>
                                    <li>يتحقق نظام التشغيل من أن الوصول إلى العنوان قانوني.</li>
                                    <li>يحدد نظام التشغيل موقع الصفحة المطلوبة على القرص (عادةً في ملف التبادل).</li>
                                    <li>إذا كانت الذاكرة الفعلية ممتلئة، يختار نظام التشغيل صفحة "ضحية" (Victim Page) لإخراجها من الذاكرة إلى القرص.</li>
                                    <li>يتم تحميل الصفحة المطلوبة من القرص إلى إطار حر في الذاكرة الفعلية.</li>
                                    <li>يتم تحديث جدول الصفحات للعملية ليعكس الموقع الجديد للصفحة.</li>
                                    <li>تُعاد العملية إلى حالة "جاهزة" (Ready) لتستأنف تنفيذها من النقطة التي توقفت عندها.</li>
                                </ol>
                            </li>
                            <li>
                                <strong>استبدال الصفحات (Page Replacement):</strong>
                                <p>عندما تحدث Page Fault وتكون الذاكرة الفعلية ممتلئة، يجب على نظام التشغيل اختيار صفحة موجودة حاليًا في الذاكرة لإخراجها إلى القرص لإفساح المجال للصفحة الجديدة المطلوبة. تعتمد فعالية نظام الذاكرة الافتراضية بشكل كبير على خوارزمية استبدال الصفحات المستخدمة.</p>
                                <h4>🔁 أشهر خوارزميات استبدال الصفحات:</h4>
                                <ul>
                                    <li>
                                        <strong>FIFO (First-In-First-Out - الداخل أولاً يخرج أولاً):</strong>
                                        <p>تُخرج الصفحة الأقدم في الذاكرة. بسيطة في التنفيذ ولكنها قد تُخرج صفحات لا تزال قيد الاستخدام النشط.</p>
                                    </li>
                                    <li>
                                        <strong>LRU (Least Recently Used - الأقل استخدامًا مؤخرًا):</strong>
                                        <p>تُخرج الصفحة التي لم تُستخدم لفترة أطول. تُعد فعالة جدًا لأنها تفترض أن الصفحات التي لم تُستخدم مؤخرًا لن تُستخدم قريبًا. تتطلب دعمًا عتاديًا أو برمجيات معقدة لتتبع استخدام الصفحات.</p>
                                    </li>
                                    <li>
                                        <strong>Optimal Replacement (الاستبدال الأمثل - نظريًا الأفضل):</strong>
                                        <p>تُخرج الصفحة التي لن تُستخدم لأطول فترة زمنية في المستقبل. هذه الخوارزمية مستحيلة التنفيذ عمليًا لأنها تتطلب معرفة مسبقة بالمستقبل، ولكنها تُستخدم كمعيار لمقارنة أداء الخوارزميات الأخرى.</p>
                                    </li>
                                    <li>
                                        <strong>Clock Algorithm (خوارزمية الساعة):</strong>
                                        <p>هي تقريب لخوارزمية LRU، وأكثر عملية في التنفيذ. تستخدم بت "مُستخدم" (Use Bit) لكل صفحة. عندما يتم الوصول إلى الصفحة، يتم تعيين بت الاستخدام الخاص بها إلى 1. عند البحث عن صفحة لإخراجها، يتم فحص الصفحات في ترتيب دائري. إذا كان بت الاستخدام 0، يتم إخراجها. إذا كان 1، يتم تعيينه إلى 0 ويتم الانتقال للصفحة التالية.</p>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <strong>تحديد الصفحات التي يمكن إخراجها إلى القرص:</strong>
                                <p>يجب على نظام التشغيل أن يقرر أي الصفحات (أو الأطر) يمكن إخراجها إلى مساحة التبادل على القرص عندما تكون الذاكرة الفعلية ممتلئة. هذا القرار يؤثر بشكل كبير على أداء النظام.</p>
                            </li>
                        </ul>
                        <div class="alert alert-info mt-3">
                            <p class="mb-0">
                                <strong>🧪 تمارين تفاعلية:</strong>
                                <a href="https://www.cs.umd.edu/class/spring2003/cmsc412/proj/pager/pager.html" target="_blank" class="alert-link">Page Replacement Simulations</a>
                            </p>
                        </div>
                    </section>

                    <hr>

                    <section id="section3" class="mb-5">
                        <h2 class="course-title">3️⃣ إدارة الذاكرة في أنظمة تشغيل مختلفة</h2>
                        <p>
                            تطبق أنظمة التشغيل الحديثة مفاهيم الذاكرة الافتراضية بطرق متشابهة ولكن مع اختلافات في التفاصيل والتحسينات الخاصة بكل نظام.
                        </p>
                        <h4>🐧 Linux:</h4>
                        <ul>
                            <li>يستخدم Linux مفهوم <strong>Swap Space</strong> (مساحة التبادل) أو <strong>Swap File</strong> (ملف التبادل) على القرص الصلب لتخزين الصفحات غير النشطة.</li>
                            <li>يدعم خوارزميات استبدال صفحات متقدمة، وغالبًا ما يستخدم تقريبًا لخوارزمية LRU (مثل Clock Algorithm أو Modified Clock Algorithm) لتحسين الأداء.</li>
                            <li>يتعامل مع "<strong>OOM Killer</strong>" (Out-Of-Memory Killer) كآلية طوارئ. عندما تنفد الذاكرة تمامًا (RAM وSwap)، يقوم OOM Killer بإنهاء العمليات التي تستهلك أكبر قدر من الذاكرة لتحرير الموارد ومنع تعطل النظام بالكامل.</li>
                        </ul>
                        <h4>🪟 Windows:</h4>
                        <ul>
                            <li>يستخدم Windows ملفًا يسمى <strong>pagefile.sys</strong> على القرص الصلب كمساحة للذاكرة الافتراضية.</li>
                            <li>يدير الأولوية بين العمليات المختلفة عند تخصيص الذاكرة، مما يضمن أن العمليات ذات الأولوية العالية تحصل على الموارد اللازمة.</li>
                            <li>يُتيح للمستخدمين التحكم اليدوي في حجم الملف التبادلي (Page File Size) من خلال إعدادات النظام، مما يسمح بضبط الأداء حسب الحاجة.</li>
                        </ul>
                        <h4>📱 Android:</h4>
                        <ul>
                            <li>بما أن Android مبني على <strong>Linux Kernel</strong>، فإنه يعتمد على آليات الذاكرة الافتراضية الأساسية في Linux.</li>
                            <li>يستخدم تقنيات ضغط الذاكرة مثل <strong>ZRAM</strong>. ZRAM تنشئ قسمًا مضغوطًا في الذاكرة الرئيسية (RAM) يعمل كمساحة تبادل. بدلاً من نقل الصفحات إلى القرص البطيء، يتم ضغطها وتخزينها في هذا القسم المضغوط في RAM، مما يقلل من الاعتماد على التخزين البطيء ويحسن الأداء بشكل كبير على الأجهزة المحمولة ذات الذاكرة المحدودة.</li>
                        </ul>
                        <h4>💻 Unix / Solaris:</h4>
                        <ul>
                            <li>تُخصص مساحة تبادلية (Swap Space) عادةً أثناء عملية تمهيد النظام (Boot Process).</li>
                            <li>يوازن نظام التشغيل ديناميكيًا بين استخدام الذاكرة الرئيسية (RAM) ومساحة التبادل (Swap Space) لضمان أفضل أداء واستجابة للنظام.</li>
                        </ul>
                        <div class="alert alert-info mt-3">
                            <p class="mb-0">
                                <strong>📚 شرح موسّع:</strong>
                                <a href="https://www.kernel.org/doc/html/latest/admin-guide/mm/concepts.html" target="_blank" class="alert-link">Linux Virtual Memory – Kernel Docs</a>
                            </p>
                        </div>
                    </section>

                    <hr>

                    <section id="section4" class="mb-5">
                        <h2 class="course-title">4️⃣ مفاهيم وتقنيات داعمة</h2>
                        <p>
                            بالإضافة إلى المكونات الأساسية، هناك عدة مفاهيم وتقنيات أخرى تدعم عمل الذاكرة الافتراضية وتساهم في فعاليتها.
                        </p>
                        <ul>
                            <li>
                                <strong>الترحيل (Swapping):</strong>
                                <p>يُشير الترحيل إلى عملية نقل عملية كاملة (أو جزء كبير منها) من الذاكرة الرئيسية إلى القرص الصلب مؤقتًا لإفساح المجال لعمليات أخرى. عندما يحتاج المعالج إلى هذه العملية مرة أخرى، يتم إعادتها إلى الذاكرة الرئيسية. على الرغم من أن Paging يتعامل مع الصفحات الفردية، فإن Swapping يمكن أن يُستخدم على مستوى العملية بأكملها.</p>
                                <p><strong>الفرق بين Swapping وPaging:</strong> Swapping ينقل عمليات كاملة أو أجزاء كبيرة، بينما Paging ينقل صفحات صغيرة وثابتة الحجم.</p>
                            </li>
                            <li>
                                <strong>الطلب الجزئي (Demand Paging):</strong>
                                <p>كما ذكرنا سابقًا، هي التقنية التي يتم فيها تحميل الصفحة إلى الذاكرة الفعلية فقط عند محاولة الوصول إليها لأول مرة (أي عند حدوث Page Fault). هذه التقنية هي أساس الذاكرة الافتراضية وتُحسن من استخدام الذاكرة ووقت بدء تشغيل البرامج بشكل كبير.</p>
                            </li>
                            <li>
                                <strong>خطأ الصفحة (Page Fault):</strong>
                                <p>هو حدث (نوع من المقاطعة) يحدث عندما تحاول العملية الوصول إلى صفحة غير موجودة حاليًا في الذاكرة الرئيسية (RAM). يُشير هذا إلى أن الصفحة المطلوبة موجودة على القرص وتحتاج إلى تحميلها في الذاكرة قبل أن تتمكن العملية من متابعة تنفيذها. معالجة Page Fault هي مهمة أساسية لنظام التشغيل في بيئة الذاكرة الافتراضية.</p>
                            </li>
                            <li>
                                <strong>مجموعة العمل (Working Set):</strong>
                                <p>هي مجموعة الصفحات التي تحتاجها العملية بنشاط في فترة زمنية معينة. يحاول نظام التشغيل الاحتفاظ بـ "مجموعة العمل" لكل عملية في الذاكرة الرئيسية قدر الإمكان لتجنب حدوث الكثير من أخطاء الصفحة (Page Faults) والتبديل المفرط (Thrashing). إذا كانت مجموعة العمل لعملية ما أكبر من الذاكرة الفعلية المتاحة لها، فقد يؤدي ذلك إلى تدهور الأداء.</p>
                            </li>
                        </ul>
                        <div class="alert alert-info mt-3">
                            <p class="mb-0">
                                <strong>📘 مرجع مرئي ممتاز:</strong>
                                <a href="https://www.youtube.com/watch?v=2K2u2g1yU7w" target="_blank" class="alert-link">Demand Paging & Page Replacement – YouTube (Neso Academy)</a>
                            </p>
                        </div>
                    </section>

                    <hr>

                    <section id="section5" class="mb-5">
                        <h2 class="course-title">5️⃣ الأداء والتحديات</h2>
                        <p>
                            على الرغم من الفوائد الكبيرة للذاكرة الافتراضية، إلا أنها تأتي مع تحديات محتملة تتعلق بالأداء إذا لم تُدار بشكل صحيح.
                        </p>
                        <h4>⚠️ المشاكل المحتملة:</h4>
                        <ul>
                            <li>
                                <strong>التبديل المفرط (Thrashing):</strong>
                                <p>هي حالة خطيرة تحدث عندما يقضي النظام معظم وقته في تبديل الصفحات بين الذاكرة الرئيسية والقرص الصلب، بدلاً من تنفيذ العمليات المفيدة. يحدث هذا عادةً عندما تكون الذاكرة الفعلية المتاحة لبرنامج ما أقل من حجم مجموعة العمل الخاصة به. يؤدي Thrashing إلى تباطؤ شديد في أداء النظام، حيث يصبح القرص الصلب هو العنق.</p>
                            </li>
                            <li>
                                <strong>معدل أخطاء الصفحة (Page Fault Rate):</strong>
                                <p>هو عدد أخطاء الصفحة التي تحدث لكل وحدة زمنية. معدل أخطاء الصفحة المرتفع يشير إلى أن نظام إدارة الذاكرة لا يعمل بكفاءة، وأن هناك الكثير من الوصول إلى القرص، مما يؤثر سلبًا على الأداء.</p>
                            </li>
                            <li>
                                <strong>الحمل الزائد (Overhead):</strong>
                                <p>معالجة أخطاء الصفحة، وتحديث جداول الصفحات، وإدارة TLB، وتنفيذ خوارزميات استبدال الصفحات، كلها تتطلب وقتًا وموارد من المعالج. إذا لم تكن هذه العمليات مُدارة جيدًا، فإن الحمل الزائد يمكن أن يقلل من الفوائد الكلية للذاكرة الافتراضية.</p>
                            </li>
                        </ul>
                        <h4>🧠 استراتيجيات تحسين الأداء:</h4>
                        <ul>
                            <li><strong>تحسين خوارزميات استبدال الصفحات:</strong> استخدام خوارزميات أكثر ذكاءً (مثل LRU أو Clock Algorithm) لتقليل عدد أخطاء الصفحة.</li>
                            <li><strong>زيادة حجم RAM الفعلي:</strong> ببساطة، إضافة المزيد من الذاكرة الرئيسية يمكن أن يقلل بشكل كبير من الحاجة إلى التبادل مع القرص ويقلل من فرص حدوث Thrashing.</li>
                            <li><strong>استخدام تقنيات ضغط الذاكرة:</strong> مثل ZRAM في Android، حيث يتم ضغط الصفحات غير النشطة وتخزينها في الذاكرة الرئيسية بدلاً من نقلها إلى القرص.</li>
                            <li><strong>تحسين حجم مجموعة العمل:</strong> محاولة تصميم البرامج بحيث تكون مجموعات العمل الخاصة بها صغيرة قدر الإمكان.</li>
                        </ul>
                        <div class="alert alert-info mt-3">
                            <p class="mb-0">
                                <strong>📚 مقال تقني:</strong>
                                <a href="https://techtarget.com/whatis/definition/thrashing" target="_blank" class="alert-link">Understanding Thrashing – TechTarget</a>
                            </p>
                        </div>
                        <blockquote class="blockquote bg-light p-3 border-start border-primary border-5 rounded-3">
                            <h4>🧪 تطبيق عملي:</h4>
                            <p>
                                لفهم كيفية تفاعل نظامك مع الذاكرة الافتراضية، يمكنك استخدام الأوامر التالية في Shell بنظام Linux:
                            </p>
                            <pre><code class="language-bash">free -h        # لعرض استخدام الذاكرة والتبادل (RAM and Swap)
vmstat 1       # لمراقبة تبديل الصفحات (Page Swapping) ومعدل أخطاء الصفحة في الوقت الفعلي
swapon --show  # لمراجعة ملفات التبادل (Swap Files/Partitions) النشطة في نظامك
</code></pre>
                            <p>
                                هذه الأوامر ستساعدك على رؤية كيفية استخدام الذاكرة الفعلية والافتراضية على نظامك، ومراقبة أي علامات على تباطؤ الأداء بسبب إدارة الذاكرة.
                            </p>
                        </blockquote>
                    </section>

                    <hr>

                    <section class="summary-section mb-5">
                        <h2 class="course-title text-secondary"><i class="fas fa-info-circle me-2"></i>ملخص الوحدة</h2>
                        <p>
                            تُعد تقنية **الذاكرة الافتراضية (Virtual Memory)** ثورية في تصميم أنظمة التشغيل الحديثة، حيث تُوفر طريقة فعالة لتشغيل برامج تفوق حجم الذاكرة الرئيسية (RAM) وتُساعد على تعدد المهام بأداء أفضل. فهمنا كيف تعتمد هذه التقنية على **هياكل العتاد** مثل MMU وجداول الصفحات لتحويل العناوين، وكيف تقوم **برمجيات نظام التشغيل** بإدارة الصفحات من خلال **الطلب الجزئي (Demand Paging)** و**خوارزميات استبدال الصفحات** المختلفة. كما استعرضنا كيفية تطبيق هذه المفاهيم في أنظمة التشغيل الشائعة مثل Linux وWindows وAndroid. وأخيرًا، ناقشنا **التحديات المتعلقة بالأداء** مثل ظاهرة **التبديل المفرط (Thrashing)** وكيفية التخفيف منها لضمان استقرار وكفاءة النظام.
                        </p>
                    </section>

                    <div class="d-flex justify-content-between">
                        <a href="unit-7.html" class="btn btn-outline-primary">
                            <i class="fas fa-arrow-right me-1"></i>
                            الوحدة السابقة: إدارة الذاكرة
                        </a>
                        <a href="unit-9.html" class="btn btn-primary">
                            الوحدة التالية: جدولة أحادية المعالج
                            <i class="fas fa-arrow-left ms-1"></i>
                        </a>
                    </div>

                    <div class="alert alert-info mt-3">
                        <h5 class="mb-2"><i class="fas fa-book-open me-2"></i>روابط إثرائية وموارد إضافية:</h5>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-link me-2"></i> <a href="http://pages.cs.wisc.edu/~remzi/OSTEP/" target="_blank" class="alert-link">Operating Systems: Three Easy Pieces – Virtual Memory</a></li>
                            <li><i class="fas fa-link me-2"></i> <a href="https://learn.microsoft.com/en-us/windows/win32/memory/virtual-memory" target="_blank" class="alert-link">Microsoft Docs: Virtual Memory in Windows</a></li>
                            <li><i class="fas fa-link me-2"></i> <a href="https://www.redhat.com/en/blog/linux-swapping-explained" target="_blank" class="alert-link">Linux Swapping Explained – RedHat Blog</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>مسار الأمن السيبراني</h5>
                    <p>منصة تعليمية متخصصة في تقديم محتوى أكاديمي وعملي في مجال الأمن السيبراني.</p>
                </div>
                <div class="col-md-3">
                    <h5>روابط سريعة</h5>
                    <ul class="list-unstyled">
                        <li><a href="../index.html" class="text-white text-decoration-none">الرئيسية</a></li>
                        <li><a href="#" class="text-white text-decoration-none">جميع المقررات</a></li>
                        <li><a href="#" class="text-white text-decoration-none">الدعم الفني</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>تواصل معنا</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-envelope me-2"></i> info@cyberpath.com</li>
                        <li><i class="fas fa-phone me-2"></i> 0502161465</li>
                    </ul>
                </div>
            </div>
            <hr class="my-4 bg-light">
            <div class="row">
                <div class="col-md-6">
                    <p class="mb-0">&copy; 2025 مسار الأمن السيبراني. جميع الحقوق محفوظة.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="#" class="text-white me-3"><i class="fab fa-twitter fa-lg"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-linkedin fa-lg"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-youtube fa-lg"></i></a>
                    <a href="#" class="text-white"><i class="fab fa-github fa-lg"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const completedUnits = JSON.parse(localStorage.getItem('os_completed_units')) || {};
            const totalModules = 17; // 16 units + 1 summary unit
            
            function updateProgress() {
                const completedCount = Object.keys(completedUnits).length;
                const progressPercentage = (completedCount / totalModules) * 100;
                const progressBar = document.querySelector('.progress-bar');
                
                progressBar.style.width = `${progressPercentage}%`;
                progressBar.setAttribute('aria-valuenow', progressPercentage);
                progressBar.textContent = `${Math.round(progressPercentage)}% مكتمل`;
                
                localStorage.setItem('os_completed_modules', completedCount);
            }
            
            // Mark current unit (Unit 8) as completed and update progress
            if (!completedUnits['unit8']) {
                completedUnits['unit8'] = true;
                localStorage.setItem('os_completed_units', JSON.stringify(completedUnits));
                updateProgress();
            } else {
                updateProgress(); // Just update progress bar if already completed
            }
        });
    </script>
</body>
</html>
