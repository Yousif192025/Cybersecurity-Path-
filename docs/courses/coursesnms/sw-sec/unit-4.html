<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الوحدة 4: الترميز الآمن | أساسيات تطوير البرمجيات الآمنة</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-bg: #f8f9fa;
            --dark-text: #2c3e50;
            --light-text: #7f8c8d;
        }
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--light-bg);
            color: var(--dark-text);
            line-height: 1.8;
        }
        .navbar {
            background-color: var(--primary-color);
        }
        .sidebar {
            background-color: #fff;
            padding: 15px;
            border-radius: 0.75rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        .content-section {
            background-color: #fff;
            padding: 30px;
            border-radius: 0.75rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        .course-title {
            color: var(--primary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }
        .list-group-item.active {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
        }
        .list-group-item.active .module-link, .list-group-item.active .module-link .badge {
            color: white;
        }
        .module-link {
            text-decoration: none;
            color: var(--dark-text);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .accordion-button:not(.collapsed) {
            color: #fff;
            background-color: var(--secondary-color);
            box-shadow: none;
        }
        .accordion-button:not(.collapsed)::after {
            filter: brightness(0) invert(1);
        }
        .unit-icon {
            color: var(--secondary-color);
            margin-left: 10px;
        }
        .unit-icon-header {
            color: var(--primary-color);
            margin-left: 10px;
        }
        .quiz-section {
            background-color: #e9ecef;
            border-left: 5px solid var(--secondary-color);
            padding: 20px;
            border-radius: 0.5rem;
        }
        .enhancement-section {
            background-color: #e9f5ff;
            border-left: 5px solid #28a745;
            padding: 20px;
            border-radius: 0.5rem;
        }
        .summary-section {
            background-color: #f1f1f1;
            border-left: 5px solid var(--primary-color);
            padding: 20px;
            border-radius: 0.5rem;
        }
        .footer {
            background-color: var(--primary-color);
            color: white;
        }
        .progress-container {
            height: 25px;
        }
        .progress-bar {
            background-color: var(--secondary-color);
        }
        .btn-check:checked + .btn-outline-primary, .btn-outline-primary:hover {
            color: white;
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
        }
        @media (max-width: 991px) {
            .sidebar {
                margin-top: 1rem;
            }
        }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-shield-alt me-2"></i>
                أساسيات تطوير البرمجيات الآمنة
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="../../../pathways/tvtc-cs-security.html">
                            <i class="fas fa-arrow-right me-1"></i>
                            العودة إلى المقررات
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-4">
        <div class="row">
            <div class="col-lg-3">
                <div class="sidebar p-4">
                    <h4 class="mb-3">
                        <i class="fas fa-stream me-2"></i>
                        وحدات المقرر
                    </h4>
                    <div class="progress progress-container mb-4">
                        <div class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
                    </div>
                    <div class="accordion" id="unitsAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                    <i class="fas fa-shield-alt unit-icon"></i>
                                    الوحدة 1: مفاهيم البرمجيات الآمنة
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#unitsAccordion">
                                <div class="accordion-body">
                                    <p>محتوى الوحدة الأولى...</p>
                                    <a href="unit-1.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    <i class="fas fa-clipboard-list unit-icon"></i>
                                    الوحدة 2: متطلبات البرمجيات الآمنة
                                </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#unitsAccordion">
                                <div class="accordion-body">
                                    <p>محتوى الوحدة الثانية...</p>
                                    <a href="unit-2.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    <i class="fas fa-project-diagram unit-icon"></i>
                                    الوحدة 3: التصميم الآمن
                                </button>
                            </h2>
                            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#unitsAccordion">
                                <div class="accordion-body">
                                    <p>محتوى الوحدة الثالثة...</p>
                                    <a href="unit-3.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFour">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="true" aria-controls="collapseFour">
                                    <i class="fas fa-code unit-icon"></i>
                                    الوحدة 4: الترميز والتنفيذ الآمن
                                </button>
                            </h2>
                            <div id="collapseFour" class="accordion-collapse collapse show" aria-labelledby="headingFour" data-bs-parent="#unitsAccordion">
                                <div class="accordion-body">
                                    <ul class="list-unstyled">
                                        <li><a href="unit-4.html#section1" class="text-decoration-none">مقدمة</a></li>
                                        <li><a href="unit-4.html#section2" class="text-decoration-none">أبرز نقاط الضعف</a></li>
                                        <li><a href="unit-4.html#section3" class="text-decoration-none">مبادئ الترميز الدفاعي</a></li>
                                        <li><a href="unit-4.html#section4" class="text-decoration-none">الممارسات الآمنة</a></li>
                                        <li><a href="unit-4.html#section5" class="text-decoration-none">أدوات تحليل الكود</a></li>
                                        <li><a href="unit-4.html#section6" class="text-decoration-none">مراجعة الكود</a></li>
                                        <li><a href="unit-4.html#section7" class="text-decoration-none">دراسات حالة</a></li>
                                        <li><a href="unit-4.html#section-quiz" class="text-decoration-none">التقييم الذاتي</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFive">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                    <i class="fas fa-vial unit-icon"></i>
                                    الوحدة 5: اختبار الأمان
                                </button>
                            </h2>
                            <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#unitsAccordion">
                                <div class="accordion-body">
                                    <p>محتوى الوحدة الخامسة...</p>
                                    <a href="unit-5.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingSix">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                                    <i class="fas fa-check-double unit-icon"></i>
                                    الوحدة 6: القبول والتدقيق
                                </button>
                            </h2>
                            <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix" data-bs-parent="#unitsAccordion">
                                <div class="accordion-body">
                                    <p>محتوى الوحدة السادسة...</p>
                                    <a href="unit-6.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingSeven">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSeven" aria-expanded="false" aria-controls="collapseSeven">
                                    <i class="fas fa-rocket unit-icon"></i>
                                    الوحدة 7: النشر والصيانة الآمنة
                                </button>
                            </h2>
                            <div id="collapseSeven" class="accordion-collapse collapse" aria-labelledby="headingSeven" data-bs-parent="#unitsAccordion">
                                <div class="accordion-body">
                                    <p>محتوى الوحدة السابعة...</p>
                                    <a href="unit-7.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingEight">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEight" aria-expanded="false" aria-controls="collapseEight">
                                    <i class="fas fa-laptop-code unit-icon"></i>
                                    الوحدة 8: التطبيقات العملية
                                </button>
                            </h2>
                            <div id="collapseEight" class="accordion-collapse collapse" aria-labelledby="headingEight" data-bs-parent="#unitsAccordion">
                                <div class="accordion-body">
                                    <p>محتوى الوحدة الثامنة...</p>
                                    <a href="unit-8.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingSummary">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSummary" aria-expanded="false" aria-controls="collapseSummary">
                                    <i class="fas fa-graduation-cap unit-icon"></i>
                                    الوحدة الختامية
                                </button>
                            </h2>
                            <div id="collapseSummary" class="accordion-collapse collapse" aria-labelledby="headingSummary" data-bs-parent="#unitsAccordion">
                                <div class="accordion-body">
                                    <p>محتوى الوحدة الختامية...</p>
                                    <a href="unit-summary.html" class="btn btn-sm btn-outline-primary mt-2">الانتقال للوحدة</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-9">
                <div class="content-section mb-4 p-5">
                    <h1 class="course-title">
                        <i class="fas fa-code unit-icon-header"></i>
                        الوحدة 4: تنفيذ وترميز البرمجيات الآمنة
                    </h1>
                    <span class="badge bg-secondary mb-4">Secure Coding & Implementation</span>

                    <div class="mb-4">
                        <h4><i class="fas fa-bullseye me-2"></i>أهداف الوحدة</h4>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check-circle text-success me-2"></i> فهم أبرز التهديدات البرمجية الناتجة عن الترميز السيئ.</li>
                            <li><i class="fas fa-check-circle text-success me-2"></i> التعرف على مفاهيم الترميز الدفاعي (Defensive Coding).</li>
                            <li><i class="fas fa-check-circle text-success me-2"></i> تطبيق ممارسات الترميز الآمن وفقًا لمعايير مثل OWASP وCERT.</li>
                            <li><i class="fas fa-check-circle text-success me-2"></i> استخدام أدوات التحليل الأمني للكود (مثل SAST).</li>
                            <li><i class="fas fa-check-circle text-success me-2"></i> فهم آليات مراجعة الكود (التلقائية واليدوية).</li>
                        </ul>
                    </div>

                    <hr>

                    <section id="section1" class="mb-5">
                        <h2 class="course-title">1️⃣ مقدمة</h2>
                        <p>
                            المرحلة التي يتحول فيها التصميم إلى كود فعلي هي واحدة من أخطر المراحل أمنياً.
                        </p>
                        <h4>🧨 الأخطاء في الكود هي السبب الرئيسي في معظم الثغرات، مثل:</h4>
                        <ul>
                            <li>SQL Injection</li>
                            <li>Cross Site Scripting (XSS)</li>
                            <li>Buffer Overflow</li>
                            <li>Insecure Deserialization</li>
                        </ul>
                        <blockquote class="blockquote bg-light p-3 border-start border-primary border-5 rounded-3">
                            <p class="mb-0 fst-italic">
                                <strong>⚠️ الترميز الآمن ليس مهارة إضافية، بل هو ضرورة حتمية لحماية البرمجيات.</strong>
                            </p>
                        </blockquote>
                    </section>
                    
                    <hr>

                    <section id="section2" class="mb-5">
                        <h2 class="course-title">2️⃣ أبرز نقاط الضعف في البرمجة</h2>
                        <h4>🛠️ قائمة لأهم الثغرات التي تنتج من الترميز غير الآمن:</h4>
                        <div class="table-responsive">
                            <table class="table table-bordered table-hover mt-3">
                                <thead class="table-primary">
                                    <tr>
                                        <th scope="col">الثغرة</th>
                                        <th scope="col">التفسير</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>SQL Injection</td>
                                        <td>عدم التحقق من مدخلات المستخدم عند التعامل مع قاعدة البيانات</td>
                                    </tr>
                                    <tr>
                                        <td>XSS</td>
                                        <td>عرض بيانات المستخدم مباشرة دون ترميز</td>
                                    </tr>
                                    <tr>
                                        <td>Buffer Overflow</td>
                                        <td>تجاوز حجم الذاكرة المخصص عند إدخال البيانات</td>
                                    </tr>
                                    <tr>
                                        <td>Insecure Object References</td>
                                        <td>التلاعب بمعرفات الموارد (IDs) للوصول غير المصرح</td>
                                    </tr>
                                    <tr>
                                        <td>Race Conditions</td>
                                        <td>تنفيذ عمليات بشكل متزامن يؤدي لخلل في النتائج</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="alert alert-info mt-3">
                            <p class="mb-0">
                                <strong><i class="fas fa-book me-2"></i>راجع OWASP Top 10:</strong>
                                <a href="https://owasp.org/Top10/" target="_blank" class="alert-link">OWASP Top 10</a>
                            </p>
                        </div>
                    </section>

                    <hr>

                    <section id="section3" class="mb-5">
                        <h2 class="course-title">3️⃣ مبادئ الترميز الدفاعي (Defensive Coding)</h2>
                        <p>
                            مفهوم الترميز الدفاعي يعني كتابة كود يفترض دائمًا وجود "سلوك غير متوقع أو عدائي".
                        </p>
                        <h4>🔐 المبادئ الأساسية:</h4>
                        <ul>
                            <li>التحقق من جميع المدخلات.</li>
                            <li>استخدام استثناءات واضحة ومعالَجة.</li>
                            <li>التحقق من الحالة قبل العمل على المتغيرات.</li>
                            <li>عدم الثقة في أي كود خارجي أو تابع ثالث (Third-party Code).</li>
                            <li>كتابة كود قابل للاختبار والفحص.</li>
                        </ul>
                        <div class="alert alert-info mt-3">
                            <p class="mb-0">
                                <strong><i class="fas fa-link me-2"></i>دليل CERT في الترميز الآمن:</strong>
                                <a href="https://wiki.sei.cmu.edu/confluence/display/seccode" target="_blank" class="alert-link">CERT Secure Coding</a>
                            </p>
                        </div>
                    </section>

                    <hr>

                    <section id="section4" class="mb-5">
                        <h2 class="course-title">4️⃣ الممارسات الآمنة للبرمجة</h2>
                        <h4>✔️ افعل:</h4>
                        <ul>
                            <li>استخدم Prepared Statements عند التعامل مع قواعد البيانات.</li>
                            <li>قم بتشفير المخرجات (Output Encoding) عند العرض في المتصفح.</li>
                            <li>تأكد من إدارة الجلسات (Sessions) بشكل آمن (مدة صلاحية، إعادة توليد التوكن).</li>
                            <li>طبق Principle of Least Privilege على الكود والوحدات.</li>
                        </ul>
                        <h4>❌ لا تفعل:</h4>
                        <ul>
                            <li>لا تستخدم أوامر النظام مباشرة (eval, exec) مع مدخلات غير موثوقة.</li>
                            <li>لا تفترض أن مدخلات المستخدم آمنة.</li>
                            <li>لا تحفظ كلمات المرور كنص عادي (Plain Text).</li>
                        </ul>
                        <div class="alert alert-info mt-3">
                            <p class="mb-0">
                                <strong><i class="fas fa-book-open me-2"></i>دليل Google في الترميز الآمن:</strong>
                                <a href="https://google.github.io/eng-practices/security/index.html" target="_blank" class="alert-link">Google Secure Coding Practices</a>
                            </p>
                        </div>
                    </section>
                    
                    <hr>

                    <section id="section5" class="mb-5">
                        <h2 class="course-title">5️⃣ أدوات تحليل الكود (Static Analysis Tools)</h2>
                        <p>
                            تساعد أدوات التحليل الساكن (SAST) في اكتشاف نقاط الضعف دون تنفيذ البرنامج.
                        </p>
                        <h4>🛠️ أدوات مشهورة:</h4>
                        <div class="table-responsive">
                            <table class="table table-bordered table-hover mt-3">
                                <thead class="table-primary">
                                    <tr>
                                        <th scope="col">الأداة</th>
                                        <th scope="col">الوصف</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>SonarQube</td>
                                        <td>فحص جودة الكود والثغرات</td>
                                    </tr>
                                    <tr>
                                        <td>Semgrep</td>
                                        <td>فحص سريع ومتخصص بنمط الكود</td>
                                    </tr>
                                    <tr>
                                        <td>Checkmarx</td>
                                        <td>أداة احترافية شاملة</td>
                                    </tr>
                                    <tr>
                                        <td>Bandit (للغة Python)</td>
                                        <td>فحص لأمان أكواد بايثون</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="alert alert-info mt-3">
                            <p class="mb-0">
                                <strong><i class="fas fa-list me-2"></i>قائمة بأدوات SAST:</strong>
                                <a href="https://owasp.org/www-community/Source_Code_Analysis_Tools" target="_blank" class="alert-link">OWASP SAST Tools</a>
                            </p>
                        </div>
                    </section>
                    
                    <hr>

                    <section id="section6" class="mb-5">
                        <h2 class="course-title">6️⃣ مراجعة الكود (Code Review)</h2>
                        <p>
                            مراجعة الكود تساهم في:
                        </p>
                        <ul>
                            <li>اكتشاف الثغرات.</li>
                            <li>تحسين جودة الكود.</li>
                            <li>تبادل المعرفة بين المطورين.</li>
                        </ul>
                        <h4>أنواع المراجعة:</h4>
                        <ul>
                            <li><strong>مراجعة يدوية (Manual Review):</strong> مطور يراجع الكود بعناية.</li>
                            <li><strong>مراجعة تلقائية (Automated Review):</strong> باستخدام أدوات مثل SonarQube.</li>
                        </ul>
                        <h4>قائمة مراجعة الأمن:</h4>
                        <ul>
                            <li>هل تم التحقق من جميع المدخلات؟</li>
                            <li>هل تم التعامل مع الاستثناءات؟</li>
                            <li>هل هنالك عملية تسجيل (Logging) للأحداث المهمة؟</li>
                            <li>هل توجد إدارة فعالة للذاكرة والمصادر؟</li>
                        </ul>
                        <div class="alert alert-info mt-3">
                            <p class="mb-0">
                                <strong><i class="fas fa-github me-2"></i>دليل GitHub Code Scanning:</strong>
                                <a href="https://docs.github.com/en/code-security" target="_blank" class="alert-link">GitHub Code Scanning</a>
                            </p>
                        </div>
                    </section>
                    
                    <hr>

                    <section id="section7" class="mb-5">
                        <h2 class="course-title">7️⃣ دراسات حالة</h2>
                        <h4>🧪 مثال:</h4>
                        <p>
                            أحد التطبيقات قام بحفظ كلمة المرور كنص عادي في قاعدة البيانات. بعد تسريب قاعدة البيانات، تعرض جميع المستخدمين للاختراق!
                        </p>
                        <h4>التصحيح:</h4>
                        <ul>
                            <li>تجزئة كلمة المرور باستخدام خوارزمية قوية مثل bcrypt.</li>
                            <li>إضافة Salt عشوائي لكل كلمة مرور.</li>
                        </ul>
                        <div class="alert alert-info mt-3">
                            <p class="mb-0">
                                <strong><i class="fas fa-link me-2"></i>اقرأ عن التشفير والتخزين الآمن:</strong>
                                <a href="https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html" target="_blank" class="alert-link">OWASP Password Storage Cheat Sheet</a>
                            </p>
                        </div>
                    </section>
                    
                    <hr>
                    
                    <section class="enhancement-section mb-5">
                        <h2 class="course-title text-success"><i class="fas fa-box-open me-2"></i>أنشطة مقترحة</h2>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-tasks me-2"></i> تحميل كود مصدر يحتوي على ثغرات (مثل WebGoat أو DVWA) وتحليلها.</li>
                            <li><i class="fas fa-search me-2"></i> تجربة أدوات مثل Semgrep أو SonarQube محليًا.</li>
                            <li><i class="fas fa-book-open me-2"></i> كتابة دالة تحقق من مدخلات المستخدم، ثم محاولة كسرها.</li>
                        </ul>
                    </section>

                    <hr>

                    <section id="section-quiz" class="quiz-section mb-5">
                        <h2 class="course-title text-primary"><i class="fas fa-question-circle me-2"></i>التقييم الذاتي</h2>
                        <ol>
                            <li>ما الفرق بين تحليل الكود الساكن (SAST) والديناميكي (DAST)؟</li>
                            <li>ما هي مخاطر استخدام eval() في البرمجة؟</li>
                            <li>كيف تتعامل مع مدخلات المستخدم الحساسة في تطبيق ويب؟</li>
                        </ol>
                    </section>

                    <hr>

                    <section class="summary-section mb-5">
                        <h2 class="course-title text-secondary"><i class="fas fa-info-circle me-2"></i>ملخص الوحدة</h2>
                        <p>
                            كتابة كود آمن هي المهارة الأساسية لأي مطور يهتم بأمن البرمجيات. من خلال تطبيق مبادئ الترميز الدفاعي، واستخدام أدوات التحليل، وإجراء المراجعة الفعالة للكود، يمكننا بناء أنظمة أكثر أمانًا من الداخل للخارج.
                        </p>
                        <p>
                            في الوحدة الخامسة، سنتعلم كيف نختبر هذه البرمجيات من منظور أمني باستخدام أدوات الاختبار المختلفة.
                        </p>
                    </section>

                    <div class="d-flex justify-content-between">
                        <a href="unit-3.html" class="btn btn-outline-primary">
                            <i class="fas fa-arrow-right me-1"></i>
                            الوحدة السابقة: التصميم الآمن
                        </a>
                        <a href="unit-5.html" class="btn btn-primary">
                            الوحدة التالية: اختبار الأمان
                            <i class="fas fa-arrow-left ms-1"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>مسار الأمن السيبراني</h5>
                    <p>منصة تعليمية متخصصة في تقديم محتوى أكاديمي وعملي في مجال الأمن السيبراني.</p>
                </div>
                <div class="col-md-3">
                    <h5>روابط سريعة</h5>
                    <ul class="list-unstyled">
                        <li><a href="../index.html" class="text-white text-decoration-none">الرئيسية</a></li>
                        <li><a href="#" class="text-white text-decoration-none">جميع المقررات</a></li>
                        <li><a href="#" class="text-white text-decoration-none">الدعم الفني</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>تواصل معنا</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-envelope me-2"></i> info@cyberpath.com</li>
                        <li><i class="fas fa-phone me-2"></i> 0502161465</li>
                    </ul>
                </div>
            </div>
            <hr class="my-4 bg-light">
            <div class="row">
                <div class="col-md-6">
                    <p class="mb-0">© 2025 مسار الأمن السيبراني. جميع الحقوق محفوظة.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="#" class="text-white me-3"><i class="fab fa-twitter fa-lg"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-linkedin fa-lg"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-youtube fa-lg"></i></a>
                    <a href="#" class="text-white"><i class="fab fa-github fa-lg"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const completedUnits = JSON.parse(localStorage.getItem('swsec_completed_units')) || {};
            const totalModules = 9;
            
            function updateProgress() {
                const completedCount = Object.keys(completedUnits).length;
                const progressPercentage = (completedCount / totalModules) * 100;
                const progressBar = document.querySelector('.progress-bar');
                
                progressBar.style.width = `${progressPercentage}%`;
                progressBar.setAttribute('aria-valuenow', progressPercentage);
                progressBar.textContent = `${Math.round(progressPercentage)}% مكتمل`;
                
                localStorage.setItem('swsec_completed_modules', completedCount);
            }
            
            // Mark current unit (Unit 4) as completed and update progress
            if (!completedUnits['unit4']) {
                completedUnits['unit4'] = true;
                localStorage.setItem('swsec_completed_units', JSON.stringify(completedUnits));
                updateProgress();
            } else {
                updateProgress(); // Just update progress bar if already completed
            }
        });
    </script>
</body>
</html>
