<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الوحدة السابعة: أمن قواعد البيانات | أساسيات الأمن السيبراني</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary-color: #2c3e50; /* Dark Blue/Grey */
            --secondary-color: #3498db; /* Bright Blue */
            --accent-color: #e74c3c; /* Red */
            --light-bg: #f8f9fa; /* Light Grey */
            --dark-text: #2c3e50; /* Dark Blue/Grey */
            --light-text: #7f8c8d; /* Medium Grey */
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--light-bg);
            color: var(--dark-text);
            line-height: 1.8;
        }

        .course-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 3rem 0;
            margin-bottom: 2rem;
            border-radius: 0 0 1rem 1rem;
        }

        .module-card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            margin-bottom: 2rem;
            transition: transform 0.3s ease;
            border-right: 4px solid var(--secondary-color); /* Emphasize module cards */
        }

        .module-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .module-title {
            color: var(--primary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .nav-pills .nav-link.active {
            background-color: var(--secondary-color);
        }

        .note-box {
            background-color: #e8f4ff; /* Lighter blue */
            border-right: 4px solid var(--secondary-color);
            border-radius: 0.5rem;
            padding: 1.25rem;
            margin: 1.5rem 0;
            color: var(--primary-color);
        }

        .concept-item {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            padding: 0.75rem;
            background-color: #f8f9fa; /* Very light grey */
            border-radius: 0.5rem;
            transition: all 0.3s ease;
        }

        .concept-item:hover {
            background-color: #e9f5ff; /* Slightly darker light blue */
            transform: translateX(-5px);
        }

        .concept-icon {
            width: 40px;
            height: 40px;
            background-color: var(--secondary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 1rem;
            flex-shrink: 0;
            font-size: 1.2rem;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #eee;
        }

        .tool-card {
            border-left: 4px solid var(--accent-color); /* Red accent for tool cards */
            margin-bottom: 1.5rem;
            background-color: #ffffff; /* White background for tool cards */
            border-radius: 0.5rem;
            padding: 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
        }

        .tool-icon {
            width: 40px;
            height: 40px;
            background-color: var(--accent-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-left: 1rem;
            flex-shrink: 0;
            font-size: 1.2rem;
        }
        
        .summary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
        }
        .summary-table th, .summary-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: right;
        }
        .summary-table th {
            background-color: var(--secondary-color);
            color: white;
        }
        .summary-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .course-header {
                padding: 2rem 0;
            }
            .module-card {
                padding: 1.5rem;
            }
            .tool-card, .concept-item {
                flex-direction: column;
                align-items: flex-end; /* Align content to the right for RTL */
                text-align: right;
            }
            .tool-icon, .concept-icon {
                margin-right: 0;
                margin-bottom: 0.75rem;
            }
        }
    </style>
</head>
<body>
    <header class="course-header text-center">
        <div class="container">
            <h1 class="display-4 fw-bold mb-3">الوحدة السابعة: أمن قواعد البيانات</h1>
            <p class="lead">حماية البيانات المخزنة من التهديدات الداخلية والخارجية</p>
            <div class="mt-4">
                <span class="badge bg-light text-dark me-2">أمن قواعد البيانات</span>
                <span class="badge bg-light text-dark me-2">SQL Injection</span>
                <span class="badge bg-light text-dark">التشفير</span>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="row">
            <div class="col-lg-3 mb-4">
                <div class="card shadow-sm">
                    <div class="card-header bg-primary text-white">
                        <i class="fas fa-list-ul me-2"></i>وحدات المقرر
                    </div>
                    <div class="list-group list-group-flush">
                        <a href="unit-1.html" class="list-group-item list-group-item-action">
                            <i class="fas fa-key me-2"></i>الوحدة 1: المفاهيم الأساسية
                        </a>
                        <a href="unit-2.html" class="list-group-item list-group-item-action">
                            <i class="fas fa-toolbox me-2"></i>الوحدة 2: أدوات الأمان الشائعة
                        </a>
                        <a href="unit-3.html" class="list-group-item list-group-item-action">
                            <i class="fas fa-network-wired me-2"></i>الوحدة 3: أدوات تدقيق أمان الشبكة
                        </a>
                        <a href="unit-4.html" class="list-group-item list-group-item-action">
                            <i class="fas fa-traffic-light me-2"></i>الوحدة 4: مراقبة وتحليل حركة الشبكة
                        </a>
                        <a href="unit-5.html" class="list-group-item list-group-item-action">
                            <i class="fas fa-code me-2"></i>الوحدة 5: تحليل تهديدات التطبيقات وممارسات الترميز الآمن
                        </a>
                        <a href="unit-6.html" class="list-group-item list-group-item-action">
                            <i class="fas fa-globe me-2"></i>الوحدة 6: تحليل تهديدات الويب
                        </a>
                        <a href="unit-7.html" class="list-group-item list-group-item-action active">
                            <i class="fas fa-database me-2"></i>الوحدة 7: أمن قواعد البيانات
                        </a>
                        <a href="unit-8.html" class="list-group-item list-group-item-action">
                            <i class="fas fa-shield-alt me-2"></i>الوحدة 8: الاستجابة للحوادث
                        </a>
                    </div>
                    <div class="card-footer text-center">
                        <a href="../index.html" class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-arrow-right me-1"></i> العودة إلى المقرر
                        </a>
                    </div>
                </div>

                <div class="card shadow-sm mt-4">
                    <div class="card-header bg-success text-white">
                        <i class="fas fa-download me-2"></i>الموارد الإضافية
                    </div>
                    <div class="card-body">
                        <ul class="list-unstyled">
                            <li class="mb-2">
                                <a href="https://www.mysql.com/downloads/installer/" target="_blank" class="text-decoration-none text-dark">
                                    <i class="fas fa-link me-2 text-primary"></i> تنزيل MySQL Installer
                                </a>
                            </li>
                            <li class="mb-2">
                                <a href="https://www.postgresql.org/download/" target="_blank" class="text-decoration-none text-dark">
                                    <i class="fas fa-link me-2 text-primary"></i> تنزيل PostgreSQL
                                </a>
                            </li>
                            <li class="mb-2">
                                <a href="#" class="text-decoration-none text-dark">
                                    <i class="fas fa-file-pdf me-2 text-danger"></i> دليل تأمين قواعد بيانات (PDF)
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="col-lg-9">
                <div class="module-card p-4 mb-4">
                    <h2 class="module-title"><i class="fas fa-database me-2"></i>مقدمة الوحدة</h2>
                    <p>
                        تعتبر قواعد البيانات هي **الكنز الحقيقي** لأي منظمة في العصر الرقمي، حيث تخزن المعلومات الحساسة مثل بيانات العملاء، المعاملات المالية، والملكية الفكرية. في هذه الوحدة، سنتعمق في **أساسيات حماية قواعد البيانات**، من خلال التعرف على أنواعها المختلفة، واستكشاف التهديدات الشائعة التي تستهدفها، وصولاً إلى تطبيق أساليب تأمين متقدمة مثل **التشفير**، و**التحكم في الوصول** الدقيق، و**التدقيق الأمني المستمر**.
                    </p>
                    <div class="alert alert-info">
                        <i class="fas fa-clock me-2"></i> الوقت المقدر لإكمال هذه الوحدة: <strong>6 ساعات</strong>
                    </div>

                    <h4><i class="fas fa-bullseye me-2"></i>الأهداف التعليمية</h4>
                    <ul class="list-group list-group-flush mb-3">
                        <li class="list-group-item">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            التعرف على أنواع قواعد البيانات الرئيسية (SQL و NoSQL) وميزاتها.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            فهم التهديدات الأمنية الشائعة التي تواجه قواعد البيانات، مثل **SQL Injection** و**رفع الامتيازات**.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            اكتساب مهارات في **تثبيت وتكوين خوادم قواعد البيانات بأمان**.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            تطبيق **مبادئ الترميز الآمن** عند التفاعل مع قواعد البيانات من خلال تطبيقات الويب.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            فهم أهمية **التشفير**، **النسخ الاحتياطي**، و**التدقيق الأمني** لحماية البيانات.
                        </li>
                    </ul>
                </div>

                <div class="module-card p-4 mb-4">
                    <h2 class="module-title">🧩 المفاهيم الأساسية في أمن قواعد البيانات</h2>

                    <div class="concept-item">
                        <div class="concept-icon">
                            <i class="fas fa-boxes"></i>
                        </div>
                        <div>
                            <h5 class="mb-1">أنواع قواعد البيانات: SQL و NoSQL</h5>
                            <p class="mb-0">
                                توجد أنواع رئيسية لقواعد البيانات، ولكل منها تحدياتها الأمنية الخاصة:
                            </p>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item"><i class="fas fa-caret-left me-2 text-primary"></i>**قواعد بيانات SQL (Relational Databases):** تعتمد على الجداول والعلاقات بينها، وتستخدم لغة SQL لإدارة البيانات. أمثلة: MySQL, PostgreSQL, Oracle, SQL Server. تعتبر SQL Injection التهديد الأبرز لها.</li>
                                <li class="list-group-item"><i class="fas fa-caret-left me-2 text-primary"></i>**قواعد بيانات NoSQL (Non-Relational Databases):** توفر مرونة أكبر في تخزين أنواع مختلفة من البيانات (وثائق، أزواج قيمة-مفتاح، رسوم بيانية). أمثلة: MongoDB, Cassandra, Redis. تحدياتها الأمنية قد تشمل سوء التكوين، ضعف المصادقة، وعدم كفاية التحكم في الوصول.</li>
                            </ul>
                        </div>
                    </div>

                    <div class="concept-item">
                        <div class="concept-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div>
                            <h5 class="mb-1">تهديدات شائعة تستهدف قواعد البيانات</h5>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item"><i class="fas fa-angle-left me-2 text-primary"></i>**SQL Injection:** هجوم يتم فيه حقن تعليمات SQL خبيثة عبر مدخلات المستخدم، مما يسمح للمهاجم بتعديل أو حذف أو استخراج بيانات غير مصرح بها.</li>
                                <li class="list-group-item"><i class="fas fa-angle-left me-2 text-primary"></i>**رفع الامتيازات (Privilege Escalation):** محاولة المهاجم الحصول على صلاحيات أعلى من تلك الممنوحة له، بهدف الوصول إلى بيانات أو وظائف حساسة.</li>
                                <li class="list-group-item"><i class="fas fa-angle-left me-2 text-primary"></i>**اختراق المصادقة (Authentication Bypass):** تجاوز آليات تسجيل الدخول للوصول إلى قاعدة البيانات.</li>
                                <li class="list-group-item"><i class="fas fa-angle-left me-2 text-primary"></i>**سوء التكوين (Misconfiguration):** إعدادات افتراضية ضعيفة، منافذ مفتوحة بلا ضرورة، أو عدم تطبيق سياسات أمنية كافية.</li>
                                <li class="list-group-item"><i class="fas fa-angle-left me-2 text-primary"></i>**الوصول غير المصرح به (Unauthorized Access):** نتيجة لضعف كلمات المرور أو عدم كفاية التحكم في الوصول.</li>
                            </ul>
                        </div>
                    </div>

                    <div class="concept-item">
                        <div class="concept-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div>
                            <h5 class="mb-1">أساليب تأمين قواعد البيانات</h5>
                            <p class="mb-0">
                                لتحصين قواعد البيانات، يجب تطبيق عدة طبقات من الحماية:
                            </p>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item"><i class="fas fa-check-double me-2 text-success"></i>**التشفير (Encryption):** حماية البيانات الحساسة سواء أثناء التخزين (Data at Rest) أو أثناء النقل (Data in Transit).</li>
                                <li class="list-group-item"><i class="fas fa-check-double me-2 text-success"></i>**التحكم في الوصول (Access Control):** تحديد صلاحيات دقيقة للمستخدمين على مستوى قواعد البيانات، الجداول، وحتى الأعمدة. مبدأ **أقل الامتيازات** هنا أساسي.</li>
                                <li class="list-group-item"><i class="fas fa-check-double me-2 text-success"></i>**النسخ الاحتياطي والاستعادة (Backup & Recovery):** استراتيجية قوية للنسخ الاحتياطي لضمان استمرارية الأعمال في حال فقدان البيانات أو تلفها.</li>
                                <li class="list-group-item"><i class="fas fa-check-double me-2 text-success"></i>**تدقيق ومراقبة النشاطات (Auditing & Monitoring):** تتبع وتسجيل جميع الأنشطة داخل قاعدة البيانات لاكتشاف أي سلوك مشبوه أو محاولات اختراق.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="module-card p-4 mb-4">
                    <h2 class="module-title">🧪 القسم 1: تثبيت وتشغيل خادم قاعدة البيانات بأمان</h2>
                    <p>
                        تأمين قاعدة البيانات يبدأ من لحظة تثبيت خادمها. التكوين الأولي الصحيح يقلل بشكل كبير من نقاط الضعف المستقبلية.
                    </p>

                    <h5 class="mt-4"><i class="fas fa-cogs me-2"></i>خطوات التثبيت والتكوين الآمن:</h5>
                    <ul class="list-group list-group-flush mb-3">
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**استخدام أدوات التثبيت الرسمية والموثوقة:** مثل MySQL Installer أو PostgreSQL Installer، والتي غالباً ما توفر خيارات تكوين أمنية أثناء الإعداد.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**تعيين كلمات مرور قوية ومعقدة:** لجميع حسابات الإدارة (مثل root في MySQL) وأي حسابات مستخدمين يتم إنشاؤها. يجب تحديثها بانتظام.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**تقييد الوصول إلى قاعدة البيانات باستخدام الجدار الناري (Firewall):** للسماح فقط للعناوين IP الموثوقة (مثل خوادم التطبيقات) بالاتصال بقاعدة البيانات. إغلاق المنافذ غير المستخدمة.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**تفعيل التشفير للبيانات الحساسة:** سواء على مستوى القرص الصلب (شفافية تشفير البيانات TDE) أو على مستوى الأعمدة داخل الجداول.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**حذف الحسابات الافتراضية غير المستخدمة:** مثل حسابات المستخدمين التجريبية أو غير الضرورية.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**تحديث قاعدة البيانات بانتظام:** لتصحيح الثغرات الأمنية المكتشفة في الإصدارات السابقة.
                        </li>
                    </ul>
                </div>

                <div class="module-card p-4 mb-4">
                    <h2 class="module-title">🧪 القسم 2: تطوير صفحة ويب لإضافة/إزالة البيانات بأمان</h2>
                    <p>
                        التعامل مع قواعد البيانات من خلال تطبيقات الويب هو نقطة ضعف شائعة إذا لم يتم تأمينها. يتطلب ذلك حماية صارمة لمنع تنفيذ أوامر ضارة.
                    </p>

                    <h5 class="mt-4"><i class="fas fa-lock me-2"></i>ضوابط الأمان الرئيسية:</h5>
                    <ul class="list-group list-group-flush mb-3">
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**استخدام استعلامات SQL المُعَدَّة مسبقًا (Prepared Statements):** هذه هي الطريقة الأكثر فعالية لمنع **SQL Injection**. تفصل هذه الاستعلامات البيانات عن أوامر SQL، مما يمنع المهاجمين من حقن تعليمات ضارة.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**التحقق من صحة البيانات (Input Validation):** قبل إرسال أي بيانات إلى الخادم أو قاعدة البيانات، يجب التحقق من نوعها، صيغتها، وطولها.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**تنقية البيانات (Data Sanitization):** إزالة أو تحييد أي أحرف خاصة أو رموز قد تشكل خطرًا أمنيًا.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**تقنين صلاحيات المستخدمين (Least Privilege Principle):** يجب أن يمتلك المستخدم أو التطبيق الذي يتصل بقاعدة البيانات أقل الصلاحيات الضرورية لأداء وظيفته. مثلاً، مستخدم يقوم بإضافة بيانات لا يحتاج لصلاحية حذف جميع الجداول.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**تشفير الاتصال (HTTPS):** التأكد من أن جميع الاتصالات بين تطبيق الويب وقاعدة البيانات تتم عبر قنوات مشفرة (SSL/TLS).
                        </li>
                    </ul>

                    <h5 class="mt-4"><i class="fas fa-laptop-code me-2"></i>مثال عملي: صفحة تسجيل مستخدم آمنة (PHP + MySQL)</h5>
                    <p class="mb-0">
                        لإضافة سجل جديد لقاعدة البيانات بأمان بعد التحقق من صحة المدخلات واستخدام استعلامات مُعَدَّة مسبقًا:
                    </p>
                    <pre><code class="language-php">
&lt;?php
// اتصال آمن بقاعدة البيانات (معاملات الاتصال يجب أن تكون آمنة)
$servername = "localhost";
$username = "safe_user"; // مستخدم بصلاحيات محدودة
$password = "StrongP@ssw0rd";
$dbname = "mydb";

try {
    $conn = new PDO("mysql:host=$servername;dbname=$dbname", $username, $password);
    // تعيين وضع الأخطاء لـ PDO ليطرح استثناءات
    $conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);

    if ($_SERVER["REQUEST_METHOD"] == "POST") {
        $email = $_POST['email'];
        $pass = $_POST['password'];

        // 1. التحقق من صحة البريد الإلكتروني (Input Validation)
        if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
            die("خطأ: البريد الإلكتروني غير صالح.");
        }

        // 2. تجزئة (Hashing) كلمة المرور قبل التخزين
        $hashed_password = password_hash($pass, PASSWORD_DEFAULT);

        // 3. استخدام الاستعلامات المُعَدَّة مسبقًا (Prepared Statement) لمنع SQL Injection
        $stmt = $conn->prepare("INSERT INTO users (email, password) VALUES (:email, :password)");
        $stmt->bindParam(':email', $email);
        $stmt->bindParam(':password', $hashed_password);
        $stmt->execute();

        echo "تم تسجيل المستخدم بنجاح!";
    }
} catch(PDOException $e) {
    // عرض رسالة خطأ عامة للمستخدم (عدم كشف تفاصيل قاعدة البيانات)
    error_log("خطأ في قاعدة البيانات: " . $e->getMessage()); // تسجيل الخطأ في السجلات
    die("حدث خطأ أثناء التسجيل. يرجى المحاولة لاحقاً.");
}
$conn = null;
?&gt;
                    </code></pre>
                </div>

                <div class="module-card p-4 mb-4">
                    <h2 class="module-title">🧪 القسم 3: محاكاة هجمات قاعدة البيانات وتطبيق الحماية</h2>
                    <p>
                        فهم كيفية عمل الهجمات الشهيرة على قواعد البيانات يساعد المتخصصين على بناء أنظمة محمية بشكل أفضل.
                    </p>

                    <h5 class="mt-4"><i class="fas fa-skull-crossbones me-2"></i>أمثلة شائعة لهجمات قاعدة البيانات:</h5>
                    <ul class="list-group list-group-flush mb-3">
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-danger"></i>**حقن SQL في نموذج تسجيل الدخول:**
                            المهاجم يدخل `' OR '1'='1` في حقل اسم المستخدم، مما قد يسمح له بتجاوز المصادقة إذا لم يتم استخدام `Prepared Statements`.
                            <pre><code class="language-sql">
SELECT * FROM users WHERE username = '' OR '1'='1' AND password = 'some_password';
                            </code></pre>
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-danger"></i>**محاولة رفع الامتيازات:**
                            من خلال استغلال ثغرة في تطبيق ما أو ضعف في التكوين، يحاول المهاجم الحصول على صلاحيات المدير في قاعدة البيانات.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-danger"></i>**هجمات الحرمان من الخدمة (DoS):**
                            استنزاف موارد قاعدة البيانات من خلال استعلامات معقدة أو عدد كبير من الطلبات.
                        </li>
                    </ul>

                    <h5 class="mt-4"><i class="fas fa-shield-alt me-2"></i>التدابير المضادة الفعالة:</h5>
                    <ul class="list-group list-group-flush mb-3">
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-success"></i>**استخدام أدوات ORM (Object-Relational Mapping):** مثل Hibernate (Java) أو Sequelize (Node.js) أو SQLAlchemy (Python) التي تفصل التعامل مع قاعدة البيانات عن كتابة استعلامات SQL مباشرة، مما يقلل من خطر SQL Injection بشكل كبير.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-success"></i>**تسجيل كافة محاولات الدخول والأنشطة المشبوهة:** وتفعيل نظام تنبيه لمراقبة السلوكيات غير الطبيعية.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-success"></i>**استخدام أدوات تدقيق قواعد البيانات (Database Auditing Tools):** مثل MySQL Audit Plugin أو SQL Server Audit لمراقبة من يقوم بماذا ومتى.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-success"></i>**تطبيق مبادئ أمان الشبكة:** مثل تقسيم الشبكات (Network Segmentation) ووضع قواعد البيانات في شبكة منعزلة (DMZ).
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-success"></i>**تشفير البيانات الحساسة على مستوى الأعمدة:** لضمان حمايتها حتى لو تم اختراق قاعدة البيانات.
                        </li>
                    </ul>
                </div>

                <div class="module-card p-4 mb-4">
                    <h2 class="module-title">🧪 أمثلة تطبيقية: ملخص السيناريوهات</h2>
                    <p>
                        يوضح الجدول التالي أهم الأدوات والتقنيات التي تُطبق في سيناريوهات أمن قواعد البيانات:
                    </p>
                    <table class="summary-table">
                        <thead>
                            <tr>
                                <th>السيناريو</th>
                                <th>التفاصيل والإجراءات الأمنية</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>**تثبيت MySQL Server بأمان**</td>
                                <td>تعيين **صلاحيات محددة** للمستخدمين، تفعيل **التشفير** (TLS/SSL للاتصال)، **غلق المنافذ** غير المستخدمة، وحذف الحسابات الافتراضية.</td>
                            </tr>
                            <tr>
                                <td>**صفحة ويب لإدخال البيانات (مثال: إضافة مستخدم)**</td>
                                <td>تنفيذ عملية "إضافة مستخدم" بلغة PHP مع حماية من **SQL Injection** باستخدام **Prepared Statements**، و**التحقق من صحة البريد الإلكتروني**، و**تجزئة كلمة المرور**.</td>
                            </tr>
                            <tr>
                                <td>**استخدام ORM للحماية من الحقن**</td>
                                <td>في تطبيق Java، تُستخدم **Hibernate** لإدارة البيانات دون الحاجة لكتابة SQL مباشرة، مما يعزل المطور عن مخاطر الحقن.</td>
                            </tr>
                            <tr>
                                <td>**مراقبة الأنشطة المشبوهة**</td>
                                <td>تفعيل **تدقيق قواعد البيانات** (مثلاً: MySQL Audit Plugin) لتسجيل جميع الاستعلامات والعمليات، وتحليل هذه السجلات لاكتشاف الأنشطة غير الطبيعية.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="module-card p-4 mb-4">
                    <h2 class="module-title">💬 المناقشة والتفسير: أمن قواعد البيانات، لماذا هو حيوي؟</h2>
                    <p>
                        قاعدة البيانات هي القلب النابض لأي نظام معلومات. إن اختراقها يعني الوصول إلى أغلى الأصول: **البيانات**. لهذا السبب، يجب أن يكون أمن قواعد البيانات أولوية قصوى، وليس مجرد إضافة ثانوية.
                    </p>

                    <h5 class="mt-4"><i class="fas fa-lightbulb me-2"></i>نقاط حاسمة في تأمين قواعد البيانات:</h5>
                    <ul class="list-group list-group-flush mb-3">
                        <li class="list-group-item">
                            <i class="fas fa-key me-2 text-primary"></i>**التثبيت والتكوين الآمن:** أمان قاعدة البيانات يبدأ من الصفر. الإعدادات الافتراضية غالبًا ما تكون غير آمنة. يجب دائمًا تغيير كلمات المرور الافتراضية، وإغلاق المنافذ غير الضرورية، وتحديد الأذونات بدقة.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-code-branch me-2 text-primary"></i>**التعامل الآمن مع المدخلات:** تُعد **SQL Injection** من أخطر الهجمات وأكثرها شيوعًا. أدوات مثل **Prepared Statements** أو **ORMs** ليست مجرد ممارسات جيدة، بل هي ضرورية لحماية تطبيقات الويب من هذا النوع من الهجمات.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-users-cog me-2 text-primary"></i>**إدارة الصلاحيات (Access Control):** يجب أن يمتلك كل مستخدم أو عملية فقط الحد الأدنى من الصلاحيات الضرورية لأداء مهامه. هذا يحد من الضرر في حال تعرض حساب ما للاختراق (مبدأ أقل الامتيازات).
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-shield-alt me-2 text-primary"></i>**النسخ الاحتياطي والتشفير:** فقدان البيانات كارثة. النسخ الاحتياطي المنتظم ضروري للتعافي من الهجمات أو الأعطال. التشفير يحمي البيانات حتى لو تمكن المهاجم من الوصول إليها.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-eye me-2 text-primary"></i>**التدقيق والمراقبة المستمرة:** تتبع من يصل إلى البيانات، وماذا يفعل بها، ومتى. هذا يساعد على اكتشاف الأنشطة المشبوهة في الوقت المناسب والاستجابة لها. يجب تدريب الطلاب على كيفية اكتشاف الثغرات، وليس فقط منعها، لأن الوقاية وحدها لا تكفي.
                        </li>
                    </ul>
                </div>

                <div class="module-card p-4 mb-4">
                    <h2 class="module-title">✅ ملخص الوحدة: نقاط رئيسية لأمن قواعد البيانات</h2>
                    <p>
                        تُوجز النقاط التالية أبرز التهديدات والإجراءات الوقائية التي يجب تطبيقها لضمان أمن قواعد البيانات:
                    </p>
                    <table class="summary-table">
                        <thead>
                            <tr>
                                <th>التهديد المحتمل</th>
                                <th>الإجراء الوقائي الرئيسي</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>**SQL Injection**</td>
                                <td>استخدام **الاستعلامات المُعَدَّة مسبقًا (Prepared Statements)** أو **أدوات ORM**.</td>
                            </tr>
                            <tr>
                                <td>**رفع الامتيازات (Privilege Escalation)**</td>
                                <td>تحديد **صلاحيات دقيقة ومحدودة** للمستخدمين والتطبيقات (مبدأ أقل الامتيازات).</td>
                            </tr>
                            <tr>
                                <td>**الوصول غير المصرح به / ضعف المصادقة**</td>
                                <td>تعيين **كلمات مرور قوية**، استخدام **المصادقة متعددة العوامل (MFA)**، وتقييد الوصول عبر الجدار الناري.</td>
                            </tr>
                            <tr>
                                <td>**البيانات الحساسة المكشوفة**</td>
                                <td>**التشفير** القوي للبيانات أثناء التخزين والنقل (Data at Rest & in Transit).</td>
                            </tr>
                            <tr>
                                <td>**فقدان أو تلف البيانات**</td>
                                <td>تنفيذ **النسخ الاحتياطي المنتظم** للبيانات، وتطبيق خطط التعافي من الكوارث.</td>
                            </tr>
                            <tr>
                                <td>**الأنشطة المشبوهة داخل قاعدة البيانات**</td>
                                <td>التفعيل المستمر **للتدقيق والمراقبة**، وتسجيل الأحداث الهامة وتحليلها.</td>
                            </tr>
                            <tr>
                                <td>**سوء التكوين الافتراضي لخادم قاعدة البيانات**</td>
                                <td>اتباع **أفضل ممارسات التكوين الآمن** من اللحظة الأولى للتثبيت.</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="text-center mt-4">
                        <a href="#" class="btn btn-success me-2">
                            <i class="fas fa-question-circle me-1"></i> اختبار المعرفة
                        </a>
                        <a href="#" class="btn btn-primary me-2">
                            <i class="fas fa-book me-1"></i> تمارين عملية
                        </a>
                        <a href="unit-8.html" class="btn btn-secondary">
                            الوحدة التالية <i class="fas fa-arrow-left me-1"></i>
                        </a>
                    </div>
                </div>

                <div class="navigation-buttons">
                    <a href="unit-6.html" class="btn btn-outline-primary">
                        <i class="fas fa-arrow-right me-1"></i> الوحدة السابقة: تحليل تهديدات الويب
                    </a>
                    <a href="unit-8.html" class="btn btn-primary">
                        الوحدة التالية: الاستجابة للحوادث <i class="fas fa-arrow-left me-1"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>مسار الأمن السيبراني</h5>
                    <p>منصة تعليمية متخصصة في تقديم محتوى أكاديمي وعملي في مجال الأمن السيبراني.</p>
                </div>
                <div class="col-md-3">
                    <h5>روابط سريعة</h5>
                    <ul class="list-unstyled">
                        <li><a href="../index.html" class="text-white text-decoration-none">الرئيسية</a></li>
                        <li><a href="#" class="text-white text-decoration-none">جميع المقررات</a></li>
                        <li><a href="#" class="text-white text-decoration-none">المصادر التعليمية</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>تواصل معنا</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-envelope me-2"></i> info@cyberpath.com</li>
                        <li><i class="fas fa-phone me-2"></i> +966 12 345 6789</li>
                    </ul>
                </div>
            </div>
            <hr class="my-4 bg-light">
            <div class="row">
                <div class="col-md-6">
                    <p class="mb-0">&copy; 2023 مسار الأمن السيبراني. جميع الحقوق محفوظة.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="#" class="text-white me-3"><i class="fab fa-twitter fa-lg"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-linkedin fa-lg"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-youtube fa-lg"></i></a>
                    <a href="#" class="text-white"><i class="fab fa-github fa-lg"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // تفعيل عناصر القائمة الجانبية بناءً على الرابط الحالي
        document.addEventListener('DOMContentLoaded', function() {
            const currentPage = window.location.pathname.split('/').pop();
            const navLinks = document.querySelectorAll('.list-group-item');
            
            navLinks.forEach(link => {
                link.classList.remove('active'); // Remove 'active' class from all links first
                if (link.getAttribute('href') === currentPage) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
