<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الوحدة السادسة: تحليل تهديدات الويب | أساسيات الأمن السيبراني</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary-color: #2c3e50; /* Dark Blue/Grey */
            --secondary-color: #3498db; /* Bright Blue */
            --accent-color: #e74c3c; /* Red */
            --light-bg: #f8f9fa; /* Light Grey */
            --dark-text: #2c3e50; /* Dark Blue/Grey */
            --light-text: #7f8c8d; /* Medium Grey */
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--light-bg);
            color: var(--dark-text);
            line-height: 1.8;
        }

        .course-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 3rem 0;
            margin-bottom: 2rem;
            border-radius: 0 0 1rem 1rem;
        }

        .module-card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            margin-bottom: 2rem;
            transition: transform 0.3s ease;
            border-right: 4px solid var(--secondary-color); /* Emphasize module cards */
        }

        .module-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .module-title {
            color: var(--primary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .nav-pills .nav-link.active {
            background-color: var(--secondary-color);
        }

        .note-box {
            background-color: #e8f4ff; /* Lighter blue */
            border-right: 4px solid var(--secondary-color);
            border-radius: 0.5rem;
            padding: 1.25rem;
            margin: 1.5rem 0;
            color: var(--primary-color);
        }

        .concept-item {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            padding: 0.75rem;
            background-color: #f8f9fa; /* Very light grey */
            border-radius: 0.5rem;
            transition: all 0.3s ease;
        }

        .concept-item:hover {
            background-color: #e9f5ff; /* Slightly darker light blue */
            transform: translateX(-5px);
        }

        .concept-icon {
            width: 40px;
            height: 40px;
            background-color: var(--secondary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 1rem;
            flex-shrink: 0;
            font-size: 1.2rem;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #eee;
        }

        .tool-card {
            border-left: 4px solid var(--accent-color); /* Red accent for tool cards */
            margin-bottom: 1.5rem;
            background-color: #ffffff; /* White background for tool cards */
            border-radius: 0.5rem;
            padding: 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
        }

        .tool-icon {
            width: 40px;
            height: 40px;
            background-color: var(--accent-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-left: 1rem;
            flex-shrink: 0;
            font-size: 1.2rem;
        }
        
        .summary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
        }
        .summary-table th, .summary-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: right;
        }
        .summary-table th {
            background-color: var(--secondary-color);
            color: white;
        }
        .summary-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        /* Specific for OWASP Top 10 */
        .owasp-list li {
            font-weight: bold;
        }
        .owasp-list li span {
            font-weight: normal;
            font-size: 0.9em;
            color: var(--light-text);
            display: block;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .course-header {
                padding: 2rem 0;
            }
            .module-card {
                padding: 1.5rem;
            }
            .tool-card, .concept-item {
                flex-direction: column;
                align-items: flex-end; /* Align content to the right for RTL */
                text-align: right;
            }
            .tool-icon, .concept-icon {
                margin-right: 0;
                margin-bottom: 0.75rem;
            }
        }
    </style>
</head>
<body>
    <header class="course-header text-center">
        <div class="container">
            <h1 class="display-4 fw-bold mb-3">الوحدة السادسة: تحليل تهديدات الويب</h1>
            <p class="lead">فهم واكتشاف وتأمين تطبيقات الويب من الهجمات السيبرانية</p>
            <div class="mt-4">
                <span class="badge bg-light text-dark me-2">أمن الويب</span>
                <span class="badge bg-light text-dark me-2">الترميز الآمن</span>
                <span class="badge bg-light text-dark">ثغرات الويب</span>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="row">
            <div class="col-lg-3 mb-4">
                <div class="card shadow-sm">
                    <div class="card-header bg-primary text-white">
                        <i class="fas fa-list-ul me-2"></i>وحدات المقرر
                    </div>
                    <div class="list-group list-group-flush">
                        <a href="unit-1.html" class="list-group-item list-group-item-action">
                            <i class="fas fa-key me-2"></i>الوحدة 1: المفاهيم الأساسية
                        </a>
                        <a href="unit-2.html" class="list-group-item list-group-item-action">
                            <i class="fas fa-toolbox me-2"></i>الوحدة 2: أدوات الأمان الشائعة
                        </a>
                        <a href="unit-3.html" class="list-group-item list-group-item-action">
                            <i class="fas fa-network-wired me-2"></i>الوحدة 3: أدوات تدقيق أمان الشبكة
                        </a>
                        <a href="unit-4.html" class="list-group-item list-group-item-action">
                            <i class="fas fa-traffic-light me-2"></i>الوحدة 4: مراقبة وتحليل حركة الشبكة
                        </a>
                        <a href="unit-5.html" class="list-group-item list-group-item-action">
                            <i class="fas fa-code me-2"></i>الوحدة 5: تحليل تهديدات التطبيقات وممارسات الترميز الآمن
                        </a>
                        <a href="unit-6.html" class="list-group-item list-group-item-action active">
                            <i class="fas fa-globe me-2"></i>الوحدة 6: تحليل تهديدات الويب
                        </a>
                        <a href="unit-7.html" class="list-group-item list-group-item-action">
                            <i class="fas fa-database me-2"></i>الوحدة 7: أمن قواعد البيانات
                        </a>
                        <a href="unit-8.html" class="list-group-item list-group-item-action">
                            <i class="fas fa-shield-alt me-2"></i>الوحدة 8: الاستجابة للحوادث
                        </a>
                    </div>
                    <div class="card-footer text-center">
                        <a href="../index.html" class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-arrow-right me-1"></i> العودة إلى المقرر
                        </a>
                    </div>
                </div>

                <div class="card shadow-sm mt-4">
                    <div class="card-header bg-success text-white">
                        <i class="fas fa-download me-2"></i>الموارد الإضافية
                    </div>
                    <div class="card-body">
                        <ul class="list-unstyled">
                            <li class="mb-2">
                                <a href="https://portswigger.net/burp/communitydownload" target="_blank" class="text-decoration-none text-dark">
                                    <i class="fas fa-link me-2 text-primary"></i> تنزيل Burp Suite Community
                                </a>
                            </li>
                            <li class="mb-2">
                                <a href="https://www.owasp.org/www-project-secure-coding-practices-quick-reference-guide" target="_blank" class="text-decoration-none text-dark">
                                    <i class="fas fa-file-pdf me-2 text-danger"></i> دليل OWASP لممارسات الترميز الآمن (PDF)
                                </a>
                            </li>
                            <li class="mb-2">
                                <a href="#" class="text-decoration-none text-dark">
                                    <i class="fas fa-video me-2 text-warning"></i> فيديو تعليمي: تأمين خادم Apache/Nginx
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="col-lg-9">
                <div class="module-card p-4 mb-4">
                    <h2 class="module-title"><i class="fas fa-globe-americas me-2"></i>مقدمة الوحدة</h2>
                    <p>
                        تطبيقات الويب هي نقطة الدخول الأساسية للمهاجمين في العديد من الهجمات السيبرانية. في هذه الوحدة، سنركز على **فهم التهديدات الشائعة التي تستهدف تطبيقات الويب**، مثل اختطاف الجلسات وضعف التحقق من المدخلات. سنتعلم أيضاً أفضل الممارسات لـ **تأمين الكود**، و**تحليل الثغرات في اللغات البرمجية المختلفة**، وكيفية **تطوير صفحات ويب آمنة** من البداية.
                    </p>
                    <div class="alert alert-info">
                        <i class="fas fa-clock me-2"></i> الوقت المقدر لإكمال هذه الوحدة: <strong>8 ساعات</strong>
                    </div>

                    <h4><i class="fas fa-bullseye me-2"></i>الأهداف التعليمية</h4>
                    <ul class="list-group list-group-flush mb-3">
                        <li class="list-group-item">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            التعرف على المكونات الأساسية لتطبيقات الويب وكيفية تفاعلها.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            فهم بروتوكولي **HTTP** و**HTTPS** والفرق بينهما في سياق الأمان.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            اكتشاف أبرز **هجمات الويب** الشائعة مثل اختطاف الجلسات، SQL Injection، وXSS.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            اكتساب مهارات في **كتابة تعليمات برمجية آمنة** وتأمين تكوينات خوادم الويب.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-check-circle text-success me-2"></i>
                            التعرف على أدوات تحليل تطبيقات الويب مثل **Burp Suite** وتطبيقها عملياً.
                        </li>
                    </ul>
                </div>

                <div class="module-card p-4 mb-4">
                    <h2 class="module-title">🧩 المفاهيم الأساسية في أمن الويب</h2>

                    <div class="concept-item">
                        <div class="concept-icon">
                            <i class="fas fa-cubes"></i>
                        </div>
                        <div>
                            <h5 class="mb-1">مكونات تطبيقات الويب</h5>
                            <p class="mb-0">
                                يتكون تطبيق الويب عادةً من عدة طبقات تعمل معًا لتقديم الخدمة للمستخدم:
                            </p>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item"><i class="fas fa-caret-left me-2 text-primary"></i>**واجهة المستخدم (Frontend):** الجزء الذي يتفاعل معه المستخدم مباشرةً، مبني عادةً باستخدام HTML, CSS, JavaScript.</li>
                                <li class="list-group-item"><i class="fas fa-caret-left me-2 text-primary"></i>**الخادم الخلفي (Backend):** المنطق البرمجي الذي يدير البيانات ويعالج الطلبات، ويُكتب بلغات مثل Python, PHP, Java, Node.js.</li>
                                <li class="list-group-item"><i class="fas fa-caret-left me-2 text-primary"></i>**قاعدة البيانات:** حيث يتم تخزين جميع البيانات الخاصة بالتطبيق والمستخدمين.</li>
                                <li class="list-group-item"><i class="fas fa-caret-left me-2 text-primary"></i>**خادم الويب (Web Server):** مثل Apache أو Nginx، وهو المسؤول عن استضافة التطبيق وتقديم المحتوى للمتصفحات.</li>
                            </ul>
                        </div>
                    </div>

                    <div class="concept-item">
                        <div class="concept-icon">
                            <i class="fas fa-lock"></i>
                        </div>
                        <div>
                            <h5 class="mb-1">بروتوكولي HTTP وHTTPS</h5>
                            <p class="mb-0">
                                هما بروتوكولان لنقل البيانات عبر الويب، لكن الفرق بينهما حاسم للأمان:
                            </p>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item"><i class="fas fa-angle-left me-2 text-primary"></i>**HTTP (Hypertext Transfer Protocol):** بروتوكول غير مشفر، تُرسل البيانات من خلاله كنص عادي، مما يجعله عرضة للاعتراض (Man-in-the-Middle) وكشف المعلومات الحساسة.</li>
                                <li class="list-group-item"><i class="fas fa-angle-left me-2 text-primary"></i>**HTTPS (Hypertext Transfer Protocol Secure):** نسخة آمنة من HTTP تستخدم بروتوكول **SSL/TLS** لتشفير الاتصال بين المتصفح والخادم. هذا يضمن سرية وسلامة البيانات ويحميها من التجسس أو التلاعب.</li>
                            </ul>
                        </div>
                    </div>

                    <div class="concept-item">
                        <div class="concept-icon">
                            <i class="fas fa-user-secret"></i>
                        </div>
                        <div>
                            <h5 class="mb-1">هجمات الجلسات (Session Hijacking)</h5>
                            <p class="mb-0">
                                تحدث هذه الهجمات عندما يتمكن المهاجم من سرقة معرف جلسة المستخدم النشط (Session ID) واستخدامه لانتحال هوية المستخدم والوصول إلى حسابه دون الحاجة إلى كلمة المرور. يمكن أن تحدث هذه الهجمات بعدة طرق، منها:
                            </p>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item"><i class="fas fa-caret-left me-2 text-primary"></i>**سرقة ملفات تعريف الارتباط (Cookie Theft):** عبر هجمات XSS أو التجسس على الشبكة.</li>
                                <li class="list-group-item"><i class="fas fa-caret-left me-2 text-primary"></i>**تخمين معرف الجلسة:** إذا كان معرف الجلسة سهل التنبؤ به.</li>
                                <li class="list-group-item"><i class="fas fa-caret-left me-2 text-primary"></i>**هجمات تثبيت الجلسة (Session Fixation):** حيث يفرض المهاجم معرف جلسة معين على الضحية.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="module-card p-4 mb-4">
                    <h2 class="module-title">🧪 القسم 1: كتابة تعليمات برمجية آمنة وفق الممارسات القياسية</h2>
                    <p>
                        تُعد كتابة الكود الآمن أساسًا لأي تطبيق ويب حصين. يهدف هذا القسم إلى تطبيق إرشادات ومعايير تطوير شيفرات برمجية تمنع الثغرات المحتملة.
                    </p>

                    <h5 class="mt-4"><i class="fas fa-check-double me-2"></i>أفضل الممارسات للترميز الآمن:</h5>
                    <ul class="list-group list-group-flush mb-3">
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**التحقق من صحة المدخلات (Input Validation):** التأكد من أن جميع البيانات التي يتلقاها التطبيق من المستخدم أو مصادر خارجية تتوافق مع التوقعات. منع إدخال الأحرف الخاصة أو الأكواد الضارة.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**تنقية المخرجات (Output Sanitization/Encoding):** ترميز البيانات قبل عرضها للمستخدم لمنع هجمات XSS.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**استخدام مكتبات وأطر عمل آمنة:** الاعتماد على المكتبات والأطر البرمجية المعروفة والمختبرة أمنيًا، بدلاً من كتابة دوال حساسة يدويًا.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**إدارة الأخطاء والتسجيل الآمن (Secure Error Handling & Logging):** تجنب كشف معلومات حساسة (مثل مسارات الملفات أو تفاصيل قاعدة البيانات) في رسائل الأخطاء للمستخدم. تسجيل الأخطاء بفعالية للتدقيق.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**التعامل مع الذاكرة بحذر (Memory Management):** في اللغات منخفضة المستوى مثل C/C++، التحقق من الحدود لتفادي ثغرات تجاوز الذاكرة (Buffer Overflows).
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**كتابة تعليقات واضحة وتوثيق الكود:** ليس فقط لتسهيل الصيانة والفهم، بل أيضاً لمساعدة المراجعين الأمنيين على فهم تدفق البيانات والنقاط الحساسة.
                        </li>
                    </ul>

                    <h5 class="mt-4"><i class="fas fa-code me-2"></i>مثال عملي: تفادي ثغرات Buffer Overflow (في لغة C)</h5>
                    <p class="mb-0">
                        للتفادي ثغرة **Buffer Overflow** عند التعامل مع سلاسل نصية في لغة C، يُفضل استخدام الدوال التي تحد من حجم النسخ، مثل `strncpy()` بدلاً من `strcpy()`.
                    </p>
                    <pre><code class="language-c">
// استخدام غير آمن (قد يؤدي إلى Buffer Overflow)
// char buffer[10];
// strcpy(buffer, input_string); 

// الاستخدام الآمن (يحد من حجم النسخ)
char buffer[10];
strncpy(buffer, input_string, sizeof(buffer) - 1);
buffer[sizeof(buffer) - 1] = '\0'; // ضمان إنهاء السلسلة
                    </code></pre>
                </div>

                <div class="module-card p-4 mb-4">
                    <h2 class="module-title">🧪 القسم 2: تطوير تطبيق خادم-عميل آمن بلغة C</h2>
                    <p>
                        بناء خوادم تتعامل مع الطلبات والاستجابات بطريقة آمنة أمر حاسم، خاصة عند استخدام لغة مثل C تتطلب إدارة دقيقة للذاكرة.
                    </p>

                    <h5 class="mt-4"><i class="fas fa-server me-2"></i>النقاط الأساسية لتطوير آمن:</h5>
                    <ul class="list-group list-group-flush mb-3">
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**استخدام مكتبة OpenSSL للتشفير:** لتأمين الاتصال بين الخادم والعميل، يجب استخدام SSL/TLS عبر مكتبات مثل OpenSSL لضمان سرية وسلامة البيانات المنقولة.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**تجنب الدوال غير الآمنة:** تجنب استخدام الدوال المعروفة بأنها غير آمنة في C (مثل `gets()`, `strcpy()`, `sprintf()`) واستبدالها بنسخ آمنة (مثل `fgets()`, `strncpy()`, `snprintf()`).
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**منع استغلالات الذاكرة:** من خلال إدارة صارمة للمدخلات، والتحقق من حجم المخازن المؤقتة، وتنظيف الذاكرة بعد الاستخدام.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**تطبيق مبدأ أقل الامتيازات (Least Privilege):** تشغيل الخادم والعمليات بأقل الصلاحيات الممكنة للحد من الأضرار في حالة الاختراق.
                        </li>
                    </ul>
                </div>

                <div class="module-card p-4 mb-4">
                    <h2 class="module-title">🧪 القسم 3: تحليل الثغرات في لغات البرمجة المختلفة</h2>
                    <p>
                        لكل لغة برمجية بيئتها ونقاط ضعفها المحتملة. يهدف هذا القسم إلى تحديد الثغرات الشائعة والتعامل معها بوعي لتقوية الكود.
                    </p>

                    <h5 class="mt-4"><i class="fas fa-times-circle me-2"></i>التهديدات الشائعة حسب اللغة:</h5>
                    <ul class="list-group list-group-flush mb-3">
                        <li class="list-group-item">
                            <i class="fas fa-times-circle text-danger me-2"></i>**PHP:** غالبًا ما ترتبط الثغرات بسوء التعامل مع إدخالات البيانات (Injection)، وثغرات تحميل الملفات الخطيرة، وضعف إدارة الجلسات.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-times-circle text-danger me-2"></i>**JavaScript (في المتصفح):** قابلية تنفيذ أكواد خبيثة عبر المتصفح (XSS) إذا لم يتم تنقية المخرجات بشكل صحيح، وثغرات في الـ APIs التي تستخدمها الواجهة الأمامية.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-times-circle text-danger me-2"></i>**SQL (قواعد البيانات):** الثغرات المرتبطة بإدخالات قابلة للحقن (SQL Injection) التي تسمح للمهاجمين بتنفيذ استعلامات SQL غير مصرح بها.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-times-circle text-danger me-2"></i>**Python/Ruby/Node.js:** قد تواجه ثغرات في معالجة المدخلات، أو مشاكل في مكتبات الطرف الثالث، أو هجمات Deserialization إذا لم يتم التعامل معها بحذر.
                        </li>
                    </ul>
                </div>

                <div class="module-card p-4 mb-4">
                    <h2 class="module-title">🧪 القسم 4: تصميم نموذج ويب آمن</h2>
                    <p>
                        النماذج الإلكترونية (Web Forms) هي واحدة من أهم نقاط التفاعل بين المستخدم والتطبيق؛ إن لم تكن مؤمنة، يمكن أن تكون نقطة دخول رئيسية للمهاجمين.
                    </p>

                    <h5 class="mt-4"><i class="fas fa-shield-alt me-2"></i>خطوات التطوير الآمن للنماذج:</h5>
                    <ul class="list-group list-group-flush mb-3">
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**التحقق من صحة المدخلات (Input Validation):** التأكد من أن البيانات المدخلة تتوافق مع التوقعات (مثال: البريد الإلكتروني بتنسيق صحيح، الأرقام هي أرقام).
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**تنقية البيانات (Input Sanitization):** إزالة أو تحييد أي محتوى ضار محتمل من المدخلات قبل معالجتها (مثال: إزالة علامات HTML في حقول النص العادي).
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**تأمين الاتصال باستخدام HTTPS:** ضمان أن البيانات المرسلة عبر النموذج مشفرة ومحمية من التجسس.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**حماية CSRF (Cross-Site Request Forgery):** استخدام رموز CSRF (CSRF Tokens) لمنع المهاجمين من إجبار المستخدمين على إرسال طلبات غير مصرح بها.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**تحديد الأذونات المسموحة بدقة:** التأكد من أن المستخدمين لديهم الصلاحيات الدنيا المطلوبة فقط لإرسال النموذج.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-angle-left me-2 text-primary"></i>**تشفير كلمات المرور:** عدم تخزين كلمات المرور كنص عادي، بل استخدام دوال تجزئة (Hashing) قوية.
                        </li>
                    </ul>

                    <h5 class="mt-4"><i class="fas fa-laptop-code me-2"></i>مثال تطبيقي: نموذج تسجيل مستخدم آمن (HTML + PHP)</h5>
                    <p class="mb-0">
                        نموذج تسجيل مستخدم بسيط يتضمن ممارسات أمنية أساسية:
                    </p>
                    <pre><code class="language-html">
&lt;!-- HTML Form --&gt;
&lt;form action="register.php" method="POST"&gt;
    &lt;label for="email"&gt;البريد الإلكتروني:&lt;/label&gt;
    &lt;input type="email" id="email" name="email" required&gt;&lt;br&gt;
    &lt;label for="password"&gt;كلمة المرور:&lt;/label&gt;
    &lt;input type="password" id="password" name="password" required&gt;&lt;br&gt;
    &lt;input type="hidden" name="csrf_token" value="YOUR_CSRF_TOKEN_HERE"&gt;
    &lt;button type="submit"&gt;تسجيل&lt;/button&gt;
&lt;/form&gt;
                    </code></pre>
                    <pre><code class="language-php">
&lt;?php
// register.php (Simplified Example)

// 1. التحقق من CSRF Token (مهم جداً!)
if (!isset($_POST['csrf_token']) || $_POST['csrf_token'] !== $_SESSION['csrf_token']) {
    die("خطأ: طلب غير صالح."); // CSRF Attack
}

// 2. التحقق من صحة المدخلات وتنقية البيانات
$email = filter_var($_POST['email'], FILTER_SANITIZE_EMAIL);
if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
    die("البريد الإلكتروني غير صالح.");
}

$password = $_POST['password']; // لم يتم تنقيته بعد، لأنه سيتم تجزئته

// 3. تجزئة (Hashing) كلمة المرور قبل التخزين
$hashed_password = password_hash($password, PASSWORD_DEFAULT);

// 4. إدراج المستخدم في قاعدة البيانات (باستخدام PreparedStatement لمنع SQL Injection)
$stmt = $pdo->prepare("INSERT INTO users (email, password) VALUES (?, ?)");
$stmt->execute([$email, $hashed_password]);

echo "تم التسجيل بنجاح!";

// عرض رسالة خطأ عامة للمستخدم بدلاً من رسائل خطأ تفصيلية من النظام
// error_reporting(0); // في بيئة الإنتاج
?&gt;
                    </code></pre>
                </div>

                <div class="module-card p-4 mb-4">
                    <h2 class="module-title">🧪 أمثلة عملية: ملخص التطبيقات</h2>
                    <p>
                        يوضح الجدول التالي أهم الأدوات والمفاهيم العملية التي تم تناولها في هذه الوحدة:
                    </p>
                    <table class="summary-table">
                        <thead>
                            <tr>
                                <th>الأداة أو المثال</th>
                                <th>التطبيق الرئيسي</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>**Burp Suite / OWASP ZAP**</td>
                                <td>اختبار ثغرات تطبيقات الويب (Injection, XSS, CSRF).</td>
                            </tr>
                            <tr>
                                <td>**OpenSSL + C**</td>
                                <td>تشفير الاتصال وتأمين تطبيقات الخادم-العميل.</td>
                            </tr>
                            <tr>
                                <td>**تحليل تطبيق PHP / JavaScript**</td>
                                <td>كشف ثغرات رفع الملفات، حقن الكود (XSS)، وسوء معالجة المدخلات.</td>
                            </tr>
                            <tr>
                                <td>**نموذج تسجيل مستخدم (HTML + PHP)**</td>
                                <td>تطبيق التحقق من صحة المدخلات، التنقية، وحماية CSRF.</td>
                            </tr>
                            <tr>
                                <td>**HTTPS**</td>
                                <td>تأمين الاتصال بين المتصفح والخادم لمنع التجسس وتعديل البيانات.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="module-card p-4 mb-4">
                    <h2 class="module-title">💬 المناقشة والتفسير: لماذا يُعد أمن الويب حرجًا؟</h2>
                    <p>
                        تطبيقات الويب هي الواجهة التي يتفاعل بها ملايين المستخدمين يوميًا مع الخدمات المختلفة. أي ثغرة فيها يمكن أن تعرض بياناتهم للخطر، وتؤثر على سمعة الشركات، بل وتتسبب في خسائر مالية فادحة. لذلك، فإن فهم وتطبيق ممارسات أمن الويب أمر لا غنى عنه.
                    </p>

                    <h5 class="mt-4"><i class="fas fa-lightbulb me-2"></i>نقاط حاسمة في أمان الويب:</h5>
                    <ul class="list-group list-group-flush mb-3">
                        <li class="list-group-item">
                            <i class="fas fa-code-merge me-2 text-primary"></i>**كتابة كود آمن (Secure Coding):** يقلل من الثغرات في مرحلة التطوير. استخدام مكتبات قياسية، والتحقق الصارم من المدخلات، وتشفير البيانات الحساسة يقلل من المخاطر بشكل كبير.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-server me-2 text-primary"></i>**أمان تطبيقات الخادم:** تتطلب تطبيقات الخادم، خاصة المكتوبة بلغات منخفضة المستوى مثل C، تعاملاً حذراً مع الذاكرة وإدارة الموارد. الاستخدام غير السليم قد يؤدي إلى ثغرات يمكن استغلالها لتنفيذ تعليمات برمجية ضارة.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-language me-2 text-primary"></i>**وعي الثغرات الخاصة باللغة:** كل لغة برمجة قد تحتوي على خصائص أو ممارسات شائعة يمكن أن تُستغل. فحص هذه الجوانب ومتابعة توصيات OWASP وأفضل ممارسات الصناعة يساعد على تقوية الشيفرة وتأمين البرامج.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-address-card me-2 text-primary"></i>**تأمين نماذج الويب:** نماذج الويب هي نقاط إدخال أساسية. يجب التحقق من صحة المدخلات وتنقية البيانات بصرامة، استخدام HTTPS، وتطبيق حماية CSRF لمنع الهجمات.
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-sitemap me-2 text-primary"></i>**أمان الواجهات البرمجية (APIs):** مع تزايد استخدام APIs في تطبيقات الويب الحديثة، يجب تأمينها من خلال المصادقة القوية (مثل OAuth 2.0)، التخويل المناسب، والتحقق من صحة المدخلات.
                        </li>
                    </ul>
                </div>

                <div class="module-card p-4 mb-4">
                    <h2 class="module-title">✅ ملخص الوحدة: نقاط رئيسية</h2>
                    <p>
                        لتحقيق أمان فعال لتطبيقات الويب، يجب فهم التهديدات الشائعة وتطبيق ممارسات الترميز الآمن كخط دفاع أول:
                    </p>
                    <table class="summary-table">
                        <thead>
                            <tr>
                                <th>التهديد المحتمل</th>
                                <th>الأسلوب الوقائي وممارسات الترميز الآمن</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>**SQL Injection / XSS / Command Injection**</td>
                                <td>**تنقية المدخلات** والتحقق من صحتها (Input Sanitization & Validation)، استخدام **الاستعلامات المُعَدَّة مسبقًا (Prepared Statements)**، و**ترميز المخرجات (Output Encoding)**.</td>
                            </tr>
                            <tr>
                                <td>**اختطاف الجلسات (Session Hijacking)**</td>
                                <td>**إدارة الجلسات الآمنة**، استخدام ملفات تعريف الارتباط (Cookies) مع خصائص **HttpOnly** و**Secure flags**، وتجديد معرفات الجلسة بانتظام، وتعيين عمر مناسب للجلسة.</td>
                            </tr>
                            <tr>
                                <td>**CSRF (Cross-Site Request Forgery)**</td>
                                <td>استخدام **رموز CSRF (CSRF Tokens)** في كل طلب، وفحص رأس Referer، وتطبيق سياسات CORS (Cross-Origin Resource Sharing) بحذر.</td>
                            </tr>
                            <tr>
                                <td>**تخزين غير آمن للبيانات الحساسة**</td>
                                <td>**التشفير القوي** للبيانات أثناء التخزين والنقل، واستخدام **خوارزميات التجزئة (Hashing)** القوية لكلمات المرور.</td>
                            </tr>
                            <tr>
                                <td>**أذونات زائدة في التطبيقات**</td>
                                <td>تطبيق **مبدأ أقل الامتيازات (Principle of Least Privilege)**؛ منح المستخدمين والعمليات الحد الأدنى من الصلاحيات الضرورية فقط.</td>
                            </tr>
                            <tr>
                                <td>**اتصال غير آمن (HTTP بدلاً من HTTPS)**</td>
                                <td>الفرض الدائم لاستخدام بروتوكول **HTTPS** مع شهادات رقمية قوية وصالحة، وتطبيق **تثبيت الشهادات (Certificate Pinning)** حيثما أمكن.</td>
                            </tr>
                            <tr>
                                <td>**ثغرات تجاوز الذاكرة (Buffer Overflow)**</td>
                                <td>في اللغات مثل C/C++، استخدام دوال آمنة للتعامل مع السلاسل (مثل `strncpy()`)، والتحقق من حدود الذاكرة.</td>
                            </tr>
                            <tr>
                                <td>**ثغرات في الواجهات البرمجية (APIs)**</td>
                                <td>المصادقة والتخويل القوي للـ APIs (مثل OAuth 2.0)، التحقق الصارم من المدخلات والمخرجات، ومراقبة استخدام API.</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="text-center mt-4">
                        <a href="#" class="btn btn-success me-2">
                            <i class="fas fa-question-circle me-1"></i> اختبار المعرفة
                        </a>
                        <a href="#" class="btn btn-primary me-2">
                            <i class="fas fa-book me-1"></i> تمارين عملية
                        </a>
                        <a href="unit-7.html" class="btn btn-secondary">
                            الوحدة التالية <i class="fas fa-arrow-left me-1"></i>
                        </a>
                    </div>
                </div>

                <div class="navigation-buttons">
                    <a href="unit-5.html" class="btn btn-outline-primary">
                        <i class="fas fa-arrow-right me-1"></i> الوحدة السابقة: تحليل تهديدات التطبيقات وممارسات الترميز الآمن
                    </a>
                    <a href="unit-7.html" class="btn btn-primary">
                        الوحدة التالية: أمن قواعد البيانات <i class="fas fa-arrow-left me-1"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>مسار الأمن السيبراني</h5>
                    <p>منصة تعليمية متخصصة في تقديم محتوى أكاديمي وعملي في مجال الأمن السيبراني.</p>
                </div>
                <div class="col-md-3">
                    <h5>روابط سريعة</h5>
                    <ul class="list-unstyled">
                        <li><a href="../index.html" class="text-white text-decoration-none">الرئيسية</a></li>
                        <li><a href="#" class="text-white text-decoration-none">جميع المقررات</a></li>
                        <li><a href="#" class="text-white text-decoration-none">المصادر التعليمية</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>تواصل معنا</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-envelope me-2"></i> info@cyberpath.com</li>
                        <li><i class="fas fa-phone me-2"></i> +966 12 345 6789</li>
                    </ul>
                </div>
            </div>
            <hr class="my-4 bg-light">
            <div class="row">
                <div class="col-md-6">
                    <p class="mb-0">&copy; 2023 مسار الأمن السيبراني. جميع الحقوق محفوظة.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="#" class="text-white me-3"><i class="fab fa-twitter fa-lg"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-linkedin fa-lg"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-youtube fa-lg"></i></a>
                    <a href="#" class="text-white"><i class="fab fa-github fa-lg"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // تفعيل عناصر القائمة الجانبية بناءً على الرابط الحالي
        document.addEventListener('DOMContentLoaded', function() {
            const currentPage = window.location.pathname.split('/').pop();
            const navLinks = document.querySelectorAll('.list-group-item');
            
            navLinks.forEach(link => {
                link.classList.remove('active'); // Remove 'active' class from all links first
                if (link.getAttribute('href') === currentPage) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
